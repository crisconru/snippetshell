
<!DOCTYPE html>

<html class="no-js" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Apuntes de fácil acceso para distintas tecnologías." name="description"/>
<meta content="Cristóbal Contreras Rubio" name="author"/>
<link href="https://crisconru.github.io/iot/nodered/custom-components/custom-components/" rel="canonical"/>
<link href="../../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-8.5.10" name="generator"/>
<title>Crear Componentes - Tips de Cristo</title>
<link href="../../../../assets/stylesheets/main.472b142f.min.css" rel="stylesheet"/>
<link href="../../../../assets/stylesheets/palette.08040f6c.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="pink" data-md-color-primary="green" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#crear-componentes">
          Saltar a contenido
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="Cabecera" class="md-header__inner md-grid">
<a aria-label="Tips de Cristo" class="md-header__button md-logo" data-md-component="logo" href="../../../.." title="Tips de Cristo">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Tips de Cristo
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Crear Componentes
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Modo Oscuro" class="md-option" data-md-color-accent="pink" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="green" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Modo Oscuro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
<input aria-label="Modo Claro" class="md-option" data-md-color-accent="pink" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="green" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Modo Claro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Búsqueda" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Búsqueda" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg>
</a>
<button aria-label="Limpiar" class="md-search__icon md-icon" tabindex="-1" title="Limpiar" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/crisconru/tips" title="Ir al repositorio">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    crisconru/tips
  </div>
</a>
</div>
</nav>
<nav aria-label="Pestañas" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../..">
      Índice
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../sw/coding/python/python/">
        Software
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../hw/serie/">
        Hardware
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../../iot/">
        IoT
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../devops/git/git/">
        DevOps
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../linux/terminal/zsh/">
        Linux
      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navegación" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Tips de Cristo" class="md-nav__button md-logo" data-md-component="logo" href="../../../.." title="Tips de Cristo">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Tips de Cristo
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/crisconru/tips" title="Ir al repositorio">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    crisconru/tips
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../..">
        Índice
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Software
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Software" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Software
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1">
          Lenguajes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Lenguajes" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
          Lenguajes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1_1" id="__nav_2_1_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1_1">
          Python
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Python" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_1_1">
<span class="md-nav__icon md-icon"></span>
          Python
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/coding/python/python/">
        Setup
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/coding/python/entornos_virtuales/">
        Entornos virtuales
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1_2" id="__nav_2_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1_2">
          JavaScript
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="JavaScript" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_1_2">
<span class="md-nav__icon md-icon"></span>
          JavaScript
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/coding/javascript/javascript/">
        VanillaJS
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1_2_2" id="__nav_2_1_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1_2_2">
          NodeJS
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="NodeJS" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_1_2_2">
<span class="md-nav__icon md-icon"></span>
          NodeJS
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/coding/javascript/nodejs/typescript/">
        TypeScript
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/coding/javascript/nodejs/tcp/">
        TCP
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_2" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2">
          IDEs
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="IDEs" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          IDEs
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/coding/ides/vscode/vscode/">
        Visual Studio code
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_3" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3">
          Web
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Web" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          Web
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_3_1" id="__nav_2_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_1">
          Frontend
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Frontend" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_3_1">
<span class="md-nav__icon md-icon"></span>
          Frontend
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/web/frontend/frontend/">
        Índice
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/web/frontend/html/html/">
        HTML
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/web/frontend/css/css/">
        CSS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/web/frontend/js/javascript/">
        VanillaJS
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_3_2" id="__nav_2_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_2">
          Backend
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Backend" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_3_2">
<span class="md-nav__icon md-icon"></span>
          Backend
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_3_2_1" id="__nav_2_3_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_2_1">
          Django
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Django" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_3_2_1">
<span class="md-nav__icon md-icon"></span>
          Django
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/web/backend/django/principiante/">
        Principiante
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/web/backend/django/intermedio/">
        Intermedio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sw/web/backend/django/avanzado/">
        Avanzado
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Hardware
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Hardware" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Hardware
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../hw/serie/">
        Protocolos Serie
      </a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
          Arduino
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Arduino" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          Arduino
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../hw/arduino/arduino/">
        Sobre Arduino
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../hw/arduino/stream/">
        Stream
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../hw/arduino/uart/">
        UART
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../hw/arduino/bluetooth/">
        Bluetooth
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../hw/platformio/platformio/">
        Platformio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../hw/micropython/micropython/">
        Micropython
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          IoT
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="IoT" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          IoT
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../iot/">
        Que es el IoT
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../mqtt/mqtt/">
        MQTT
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3">
          Node-Red
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Node-Red" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          Node-Red
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../nodered/">
        Que es Node-Red
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Crear Componentes
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Crear Componentes
      </a>
<nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#resumen-muy-simplificado-de-como-crear-un-componente">
    Resumen muy simplificado de como crear un componente
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fichero-html">
    Fichero HTML
  </a>
<nav aria-label="Fichero HTML" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#definition-definicion">
    Definition (Definición)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#edit-dialog-configuracion">
    Edit Dialog (Configuración)
  </a>
<nav aria-label="Edit Dialog (Configuración)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#buttons">
    Buttons
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inputs">
    Inputs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multi-line-text-editor">
    Multi-line Text Editor
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#help-text-informacion">
    Help Text (Información)
  </a>
<nav aria-label="Help Text (Información)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#secciones">
    Secciones
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-del-msg">
    Propiedades del msg
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mas-de-una-salida">
    Más de una salida
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplo-completo-con-todo">
    Ejemplo completo con todo
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fichero-js">
    Fichero JS
  </a>
<nav aria-label="Fichero JS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#leer-y-enviar-mensajes">
    Leer y enviar mensajes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#trabajar-con-contexto">
    Trabajar con contexto
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-y-gestion-de-errores">
    Logging y gestión de errores
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">
    Status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cerrando-el-componente">
    Cerrando el componente
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#packagejson">
    package.json
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-del-nodo">
    Propiedades del Nodo
  </a>
<nav aria-label="Propiedades del Nodo" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-fichero-html-definition">
    Propiedades en el Fichero HTML - Definition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-fichero-html-edit-dialog">
    Propiedades en el Fichero HTML - Edit Dialog
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-fichero-js">
    Propiedades en el Fichero JS
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-settingsjs">
    Propiedades en el settings.js
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#credenciales">
    Credenciales
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nodos-de-configuracion">
    Nodos de Configuración
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tests">
    Tests
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplos">
    Ejemplos
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#apariencia-del-nodo">
    Apariencia del Nodo
  </a>
<nav aria-label="Apariencia del Nodo" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#icono">
    Icono
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#color-de-fondo">
    Color de fondo
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#etiqueta">
    Etiqueta
  </a>
<nav aria-label="Etiqueta" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#label">
    label
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#paletelabel">
    paleteLabel
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#labelstyle">
    labelStyle
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ports-labels-inputlabels-y-outputlabels">
    Ports labels: inputLabels y outputLabels
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alineamiento">
    Alineamiento
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#botones">
    Botones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#publicar-componente">
    Publicar componente
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          DevOps
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="DevOps" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          DevOps
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_1" id="__nav_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1">
          Git
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Git" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
          Git
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/git/git/">
        Comandos
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/git/gitflow/gitflow/">
        Git Flow
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_2" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2">
          Docker
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Docker" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Docker
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-aclaraciones/">
        Aclaraciones
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-instalacion/">
        Instalación
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-hub/">
        Docker Hub
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-comandos/">
        Comandos docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-contenedores/">
        Lanzar contenedores
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-imagenes/">
        Crear imágenes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-dockerfile/">
        Dockerfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-volumes/">
        Volumes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-network/">
        Network
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/docker/docker-dockercompose/">
        Docker Compose
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../devops/ansible/ansible/">
        Ansible
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
          Linux
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Linux" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Linux
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_1" id="__nav_6_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1">
          Terminal
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Terminal" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_1">
<span class="md-nav__icon md-icon"></span>
          Terminal
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/terminal/zsh/">
        ZSH
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_1_2" id="__nav_6_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1_2">
          TMUX
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="TMUX" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_1_2">
<span class="md-nav__icon md-icon"></span>
          TMUX
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/terminal/tmux/tmux-comandos/">
        Comandos
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/terminal/tmux/tmux-customizar/">
        Customización
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/terminal/terminal-bash/">
        Bash Scripting
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/bluetooth/">
        Bluetooth
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_2" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2">
          Comandos
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Comandos" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
          Comandos
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/comandos/linux-fecha-hora/">
        Fecha y Hora
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/comandos/linux-ficheros/">
        Ficheros
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_3" id="__nav_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3">
          Redes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Redes" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
          Redes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/redes/redes-linux/">
        Linux
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/redes/redes-ssh/">
        SSH
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/redes/redes-iptables/">
        iptables
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../linux/redes/redes-ipv6/">
        IPv6
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#resumen-muy-simplificado-de-como-crear-un-componente">
    Resumen muy simplificado de como crear un componente
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fichero-html">
    Fichero HTML
  </a>
<nav aria-label="Fichero HTML" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#definition-definicion">
    Definition (Definición)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#edit-dialog-configuracion">
    Edit Dialog (Configuración)
  </a>
<nav aria-label="Edit Dialog (Configuración)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#buttons">
    Buttons
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inputs">
    Inputs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multi-line-text-editor">
    Multi-line Text Editor
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#help-text-informacion">
    Help Text (Información)
  </a>
<nav aria-label="Help Text (Información)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#secciones">
    Secciones
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-del-msg">
    Propiedades del msg
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mas-de-una-salida">
    Más de una salida
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplo-completo-con-todo">
    Ejemplo completo con todo
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fichero-js">
    Fichero JS
  </a>
<nav aria-label="Fichero JS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#leer-y-enviar-mensajes">
    Leer y enviar mensajes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#trabajar-con-contexto">
    Trabajar con contexto
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-y-gestion-de-errores">
    Logging y gestión de errores
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">
    Status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cerrando-el-componente">
    Cerrando el componente
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#packagejson">
    package.json
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-del-nodo">
    Propiedades del Nodo
  </a>
<nav aria-label="Propiedades del Nodo" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-fichero-html-definition">
    Propiedades en el Fichero HTML - Definition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-fichero-html-edit-dialog">
    Propiedades en el Fichero HTML - Edit Dialog
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-fichero-js">
    Propiedades en el Fichero JS
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propiedades-en-el-settingsjs">
    Propiedades en el settings.js
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#credenciales">
    Credenciales
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nodos-de-configuracion">
    Nodos de Configuración
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tests">
    Tests
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplos">
    Ejemplos
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#apariencia-del-nodo">
    Apariencia del Nodo
  </a>
<nav aria-label="Apariencia del Nodo" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#icono">
    Icono
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#color-de-fondo">
    Color de fondo
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#etiqueta">
    Etiqueta
  </a>
<nav aria-label="Etiqueta" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#label">
    label
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#paletelabel">
    paleteLabel
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#labelstyle">
    labelStyle
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ports-labels-inputlabels-y-outputlabels">
    Ports labels: inputLabels y outputLabels
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alineamiento">
    Alineamiento
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#botones">
    Botones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#publicar-componente">
    Publicar componente
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="crear-componentes">Crear componentes<a class="headerlink" href="#crear-componentes" title="Permanent link">¶</a></h1>
<details class="info" open="open">
<summary>Componente = nodo</summary>
<p>Decir componente o nodo, es prácticamente lo mismo.</p>
<p>El componente digamos que sería el concepto, el modelo, o la clase si hablaremos en un contexto de Programación Orientada a Objetos.</p>
<p>El nodo sería una instancia, el objeto (en Programación Orientada a Objetos), lo que usamos.</p>
<p>Luego un componente (modelo) puede tener muchos nodos (instancias).</p>
</details>
<p>Para crear componentes es necesario que esten en un repositorio para ser publicados como un paquete npm y luego añadidos
a la Node-Red library. Se pueden crear varios a la vez bajo el mismo paquete npm, sobre todo si quieres que se instalen juntos.</p>
<p>Hay solo dos tipos de componentes:</p>
<ol>
<li>Tipo <code>config</code><ul>
<li>Son componentes que solo se pueden llamar desde la configuración de otros componentes.</li>
<li>Normalmente contienen lógica que necesita estar activa todo el rato, como una conexión mqtt por ejemplo.</li>
</ul>
</li>
<li>Los demás<ul>
<li>Son todos los componentes que se pueden poner en un flujo directamente.</li>
</ul>
</li>
</ol>
<p>Cada componente se compone (vaya juego de palabras eh) de al menos 3 ficheros:</p>
<ol>
<li><code>&lt;component-name&gt;.html</code> que indica toda la info que usa el componente.</li>
<li><code>&lt;component-name&gt;.js</code> que contiene toda la lógica de funcionamiento del componente.</li>
<li><code>package.json</code> donde esta definido como paquete npm.</li>
</ol>
<p>Puede tener un icono, así que se recomienda añadir la carpeta <code>icons</code> en el mismo nivel de la jerarquía de ficheros.</p>
<details class="info" open="open">
<summary>Ejemplo de estructura del repositorio</summary>
<ul>
<li><code>package.json</code></li>
<li><code>src</code>/ -&gt; Código de los componentes<ul>
<li><code>icons</code>/ -&gt; Iconos de los componentes</li>
<li><code>resources/</code> -&gt; Recursos que necesiten los componentes, como imágenes, ficheros extra JS, etc</li>
<li><code>component-name1.html</code></li>
<li><code>component-name1.js</code></li>
<li><code>component-name2.html</code></li>
<li><code>component-name2.js</code></li>
<li>...</li>
</ul>
</li>
<li><code>tests/</code> -&gt; Tests de cada componente<ul>
<li><code>component-name1_spec.js</code></li>
<li><code>component-name2_spec.js</code></li>
</ul>
</li>
<li><code>examples/</code> -&gt; Flujos de ejemplo de cada componente<ul>
<li><code>example-component-name1.json</code></li>
<li><code>example-component-name2.json</code></li>
<li>...</li>
</ul>
</li>
</ul>
</details>
<h2 id="resumen-muy-simplificado-de-como-crear-un-componente">Resumen muy simplificado de como crear un componente<a class="headerlink" href="#resumen-muy-simplificado-de-como-crear-un-componente" title="Permanent link">¶</a></h2>
<ol>
<li>Crea el <strong>Fichero HTML</strong> con al menos la <strong>Definition</strong> y el <strong>Edit Dialog</strong> (el <strong>Help Text</strong> es opcional).</li>
<li>Pon especial foco en las propiedades del nodo -&gt; <code>defaults</code> del <strong>Definition</strong></li>
<li>Genera en el <strong>Edit Dialog</strong> la forma de configurar esas propiedades del <code>defaults</code></li>
<li>Crea el <strong>Fichero JS</strong> y recuerda que el parámetro de entrada son los <code>defaults</code> de la <strong>Definition</strong> del <strong>Fichero HTML</strong></li>
<li>En el <code>package.json</code> añade la sección de <code>node-red</code> y especifíca donde está el <strong>Fichero JS</strong>.</li>
</ol>
<details class="warning" open="open">
<summary>Componentes juntos o separados</summary>
<p>Puedes crear todos los componentes en un solo par de <strong>Fichero HTML</strong> + <strong>Fichero JS</strong>.</p>
<p>No habría ningún problema ya que cada sección debe de tener un identificador único para cada componente.</p>
<p>Personalmente yo recomendaría que fuesen en ficheros separados, para poder estructurar mejor todo.</p>
<p>Pero tu decides, is up to you.</p>
</details>
<h2 id="fichero-html">Fichero HTML<a class="headerlink" href="#fichero-html" title="Permanent link">¶</a></h2>
<p>El <strong>Fichero HTML</strong> indica de que se compone el nodo, como se configura, y demás.</p>
<p>Este se divide en tres partes:</p>
<ol>
<li>Definition -&gt; Definición</li>
<li>Edit dialog -&gt; Configuración</li>
<li>Help text -&gt; Información</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Referenciar el componente en distintos sitios</p>
<p>Para referirnos tanto en el fichero <strong>HTML</strong> como en el <strong>JS</strong> al mismo nodo, <strong>el identificador tiene que ser el mismo</strong>.
En el siguiente ejemplo hay que tener claro que <code>component-name</code> es el identificador
único que va a tener el componente tanto en este fichero, como en el fichero Javascript.</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="cm">&lt;!-- Definition in JS --&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><a href="#__codelineno-0-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><a href="#__codelineno-0-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><a href="#__codelineno-0-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><a href="#__codelineno-0-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><a href="#__codelineno-0-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><a href="#__codelineno-0-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><a href="#__codelineno-0-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="cm">&lt;!-- Edit dialog in HTML --&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><a href="#__codelineno-0-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span> <span class="na">data-template-name</span><span class="o">=</span><span class="s">"component-name"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><a href="#__codelineno-0-10"><span class="linenos" data-linenos="10 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><a href="#__codelineno-0-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><a href="#__codelineno-0-12"><span class="linenos" data-linenos="12 "></span></a><span class="cm">&lt;!-- Help text in Markdown or HTML --&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><a href="#__codelineno-0-13"><span class="linenos" data-linenos="13 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/markdown"</span> <span class="na">data-help-name</span><span class="o">=</span><span class="s">"component-name"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><a href="#__codelineno-0-14"><span class="linenos" data-linenos="14 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="definition-definicion">Definition (Definición)<a class="headerlink" href="#definition-definicion" title="Permanent link">¶</a></h3>
<p>La Definición es un objeto JS dentro del <code>RED.nodes.registerType('component-name', { /* This is the definition */ } )</code></p>
<details class="tip" open="open">
<summary>Tip</summary>
<p>Componente tipo config -&gt; <code>category: 'config'</code></p>
<p>Componente normal -&gt; <code>category: 'lo-que-sea'</code></p>
</details>
<p>Este objeto contiene los siguientes campos.</p>
<details class="info" open="open">
<summary>Definición</summary>
<table>
<thead>
<tr>
<th align="center">Propiedad</th>
<th align="center">Tipo</th>
<th align="left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>category</code></td>
<td align="center"><code>string</code></td>
<td align="left">Categoría que aparece en la Paleta</td>
</tr>
<tr>
<td align="center"><code>defaults</code></td>
<td align="center"><code>object</code></td>
<td align="left">Propiedades del nodo para el <strong>Fichero JS</strong> y también del <strong>Edit Dialog</strong></td>
</tr>
<tr>
<td align="center"><code>credentials</code></td>
<td align="center"><code>object</code></td>
<td align="left">Credenciales del nodo</td>
</tr>
<tr>
<td align="center"><code>inputs</code></td>
<td align="center"><code>number</code></td>
<td align="left">Entradas, solo <code>0</code> o <code>1</code></td>
</tr>
<tr>
<td align="center"><code>outputs</code></td>
<td align="center"><code>number</code></td>
<td align="left">Salidas, <code>0</code> o más</td>
</tr>
<tr>
<td align="center"><code>icon</code></td>
<td align="center"><code>string</code></td>
<td align="left">Icono</td>
</tr>
<tr>
<td align="center"><code>color</code></td>
<td align="center"><code>string</code></td>
<td align="left">Color de fondo</td>
</tr>
<tr>
<td align="center"><code>label</code></td>
<td align="center"><code>string</code> - <code>function</code></td>
<td align="left">Etiqueta para el Panel</td>
</tr>
<tr>
<td align="center"><code>paletteLabel</code></td>
<td align="center"><code>string</code> - <code>function</code></td>
<td align="left">Etiqueta para la Paleta</td>
</tr>
<tr>
<td align="center"><code>labelStyle</code></td>
<td align="center"><code>string</code> - <code>function</code></td>
<td align="left">Estilos para la etiqueta del Panel</td>
</tr>
<tr>
<td align="center"><code>inputLabels</code></td>
<td align="center"><code>string</code> - <code>function</code></td>
<td align="left"><em>¡Opcional!</em> Etiqueta para el hover el puerto de entrada</td>
</tr>
<tr>
<td align="center"><code>outputLabels</code></td>
<td align="center"><code>string</code> - <code>function</code></td>
<td align="left"><em>¡Opcional!</em> Etiqueta para el hover de los puestos de salida</td>
</tr>
<tr>
<td align="center"><code>align</code></td>
<td align="center"><code>string</code></td>
<td align="left">Alineamiento del icono y la etiqueta</td>
</tr>
<tr>
<td align="center"><code>button</code></td>
<td align="center"><code>object</code></td>
<td align="left">Añadir un botón al final (como en el TypedInput - JSON)</td>
</tr>
<tr>
<td align="center"><code>oneditprepare</code></td>
<td align="center"><code>function</code></td>
<td align="left">Llamada cuando se está construyendo el <strong>Edit Dialog</strong></td>
</tr>
<tr>
<td align="center"><code>oneditsave</code></td>
<td align="center"><code>function</code></td>
<td align="left">Llamada cuando se aprieta el botón Save en el <strong>Edit Dialog</strong></td>
</tr>
<tr>
<td align="center"><code>oneditcancel</code></td>
<td align="center"><code>function</code></td>
<td align="left">Llamada cuando se aprieta el botón Cancel en el <strong>Edit Dialog</strong></td>
</tr>
<tr>
<td align="center"><code>oneditdelete</code></td>
<td align="center"><code>function</code></td>
<td align="left">Llamada cuando se borra algo de la configuración del nodo en el <strong>Edit Dialog</strong></td>
</tr>
<tr>
<td align="center"><code>oneditresize</code></td>
<td align="center"><code>function</code></td>
<td align="left">Llamada cuando se cambia el tamañao del <strong>Edit Dialog</strong></td>
</tr>
<tr>
<td align="center"><code>onpaletteadd</code></td>
<td align="center"><code>function</code></td>
<td align="left">Llamada cuando se añade el tipo del módulo a la Paleta</td>
</tr>
<tr>
<td align="center"><code>onpaletteremove</code></td>
<td align="center"><code>function</code></td>
<td align="left">Llamada cuando se quita el tipo del módulo de la Paleta</td>
</tr>
</tbody>
</table>
</details>
<h3 id="edit-dialog-configuracion">Edit Dialog (Configuración)<a class="headerlink" href="#edit-dialog-configuracion" title="Permanent link">¶</a></h3>
<p>La parte de Confifguración es para el cuadro de configuración del componente o <strong>Edit Dialog</strong>.</p>
<p>Es una sección HTML que tiene que tener el atributo <code>data-template-name</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><a href="#__codelineno-1-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span> <span class="na">data-template-name</span><span class="o">=</span><span class="s">"node-type"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><a href="#__codelineno-1-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="c">&lt;!--</span><span class="w"> </span><span class="nx">edit</span><span class="w"> </span><span class="nx">dialog</span><span class="w"> </span><span class="nx">content</span><span class="w">  </span><span class="o">--&gt;</span><span class="w"></span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><a href="#__codelineno-1-3"><span class="linenos" data-linenos="3 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>Normalmente se compone de una serie de <em>rows</em>. Cada una de estas es un elemento
<code>&lt;div class="form-row"&gt;</code> donde cada una de estas contiene un <code>&lt;label&gt;</code> (para el nombre del
de la propiedad a configurar) y otro elemento para introducir el valor que va a tener esa propiedad, como por
ejemplo un <code>&lt;input&gt;</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Identificar propiedades</p>
<p>Para comunicar esto con la Definición (propiedad del objeto <code>defaults</code>) así como el fichero Javascript (objeto de entrada
en la función del nodo), se tiene que poner cada <code>id</code> como <code>node-input-&lt;property&gt;</code>. Por ejemplo si el nodo va a tener una
propiedad <code>name</code>, aquí se debe de poner <code>id="node-input-name"</code>,</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><a href="#__codelineno-2-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-row"</span><span class="p">&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><a href="#__codelineno-2-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"node-input-name"</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">"fa fa-tag"</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span> Name<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><a href="#__codelineno-2-3"><span class="linenos" data-linenos="3 "></span></a>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-name"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Name"</span><span class="p">&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><a href="#__codelineno-2-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Si se quiere introducir un icono, hay que usar <code>&lt;i&gt;</code> con los iconos de <a href="https://fontawesome.com/v4.7.0/icons/">Font Awesome 4.7</a>.</p>
<p>Para insertar el dato, Node-Red te provee distintos widgets para usar;</p>
<h4 id="buttons">Buttons<a class="headerlink" href="#buttons" title="Permanent link">¶</a></h4>
<p>Los buttons necesitan usar la clase <code>red-ui-button</code> y luego añadir alguna más para modificar
el tipo de UI.</p>
<p>El <strong>toggle button requiere</strong> que además se añada <strong>lógica</strong> a la parte de <strong>Definición</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><input id="__tabbed_1_3" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Button</label><label for="__tabbed_1_2">Small Button</label><label for="__tabbed_1_3">Toggle Button group</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../plain-button.png"><img alt="Boton normal" src="../plain-button.png"/></a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><a href="#__codelineno-3-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"red-ui-button"</span><span class="p">&gt;</span>Button<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../small-button.png"><img alt="Boton pequeño" src="../small-button.png"/></a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><a href="#__codelineno-4-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"red-ui-button red-ui-button-small"</span><span class="p">&gt;</span>Button<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../toggle-button.png"><img alt="Boton toggle" src="../toggle-button.png"/></a></p>
<div class="admonition warning">
<p class="admonition-title">Nota</p>
<p>Es probable que la parte de HTML del <code>&lt;span&gt;&lt;/span&gt;</code> tenga que ir todo en una línea
y sin espacios en blanco entre medias, porque sino Node-Red no sabe renderizarlo.</p>
</div>
<div class="highlight"><span class="filename">Configuración</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><a href="#__codelineno-5-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"button-group"</span><span class="p">&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><a href="#__codelineno-5-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"red-ui-button toggle selected my-button-group"</span><span class="p">&gt;</span>b1<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><a href="#__codelineno-5-3"><span class="linenos" data-linenos="3 "></span></a>    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"red-ui-button toggle my-button-group"</span><span class="p">&gt;</span>b2<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><a href="#__codelineno-5-4"><span class="linenos" data-linenos="4 "></span></a>    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"red-ui-button toggle my-button-group"</span><span class="p">&gt;</span>b3<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><a href="#__codelineno-5-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Definición</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><a href="#__codelineno-6-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">$</span><span class="p">(</span><span class="s2">".my-button-group"</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><a href="#__codelineno-6-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">".my-button-group"</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"selected"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><a href="#__codelineno-6-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"selected"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><a href="#__codelineno-6-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">})</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</input></input></input></div>
<h4 id="inputs">Inputs<a class="headerlink" href="#inputs" title="Permanent link">¶</a></h4>
<p>Al igual que con los <code>&lt;button&gt;</code>, hay <code>&lt;input&gt;</code> tuneados, pero esos no depende de una clase,
sino que son un tipo especial que son los <code>TypedInput</code> que tienen su propia API -&gt; <a href="https://nodered.org/docs/api/ui/typedInput/">TypedInput API</a>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:6"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><input id="__tabbed_2_3" name="__tabbed_2" type="radio"><input id="__tabbed_2_4" name="__tabbed_2" type="radio"><input id="__tabbed_2_5" name="__tabbed_2" type="radio"><input id="__tabbed_2_6" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">Input</label><label for="__tabbed_2_2">TypedInput -&gt; String/Number/Boolean</label><label for="__tabbed_2_3">TypedInput -&gt; JSON</label><label for="__tabbed_2_4">TypedInput -&gt; msg/flow/global</label><label for="__tabbed_2_5">TypedInput -&gt; Select box</label><label for="__tabbed_2_6">TypedInput -&gt; Multiple Select box</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../plain-input.png"><img alt="Input" src="../plain-input.png"/></a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><a href="#__codelineno-7-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-name"</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../typed-input.png"><img alt="Input" src="../typed-input.png"/></a></p>
<p>Cuando el <code>TypedInput</code> puede tener distintos tipos de valores, hay que añadir
el segundo elemento <code>hidden</code> para poder almacenar que tipo contiene.</p>
<div class="highlight"><span class="filename">Configuración</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><a href="#__codelineno-8-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example1"</span><span class="p">&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><a href="#__codelineno-8-2"><span class="linenos" data-linenos="2 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"hidden"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example1-type"</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Definición -&gt; oneditprepare</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><a href="#__codelineno-9-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">$</span><span class="p">(</span><span class="s2">"#node-input-example1"</span><span class="p">).</span><span class="nx">typedInput</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><a href="#__codelineno-9-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="s2">"str"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><a href="#__codelineno-9-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nx">types</span><span class="o">:</span><span class="p">[</span><span class="s2">"str"</span><span class="p">,</span><span class="w"> </span><span class="s2">"num"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">],</span><span class="w"></span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><a href="#__codelineno-9-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="nx">typeField</span><span class="o">:</span><span class="w"> </span><span class="s2">"#node-input-example1-type"</span><span class="w"></span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><a href="#__codelineno-9-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">})</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../json-input.png"><img alt="Input" src="../json-input.png"/></a></p>
<div class="highlight"><span class="filename">Configuracion</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><a href="#__codelineno-10-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example2"</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Definición -&gt; oneditprepare</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><a href="#__codelineno-11-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">$</span><span class="p">(</span><span class="s2">"#node-input-example2"</span><span class="p">).</span><span class="nx">typedInput</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><a href="#__codelineno-11-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="s2">"json"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><a href="#__codelineno-11-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nx">types</span><span class="o">:</span><span class="p">[</span><span class="s2">"json"</span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><a href="#__codelineno-11-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">})</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../msg-input.png"><img alt="Input" src="../msg-input.png"/></a></p>
<div class="highlight"><span class="filename">Configuracion</span><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><a href="#__codelineno-12-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example3"</span><span class="p">&gt;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><a href="#__codelineno-12-2"><span class="linenos" data-linenos="2 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"hidden"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example3-type"</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Definición -&gt; oneditprepare</span><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><a href="#__codelineno-13-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">$</span><span class="p">(</span><span class="s2">"#node-input-example3"</span><span class="p">).</span><span class="nx">typedInput</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><a href="#__codelineno-13-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="s2">"msg"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><a href="#__codelineno-13-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nx">types</span><span class="o">:</span><span class="p">[</span><span class="s2">"msg"</span><span class="p">,</span><span class="w"> </span><span class="s2">"flow"</span><span class="p">,</span><span class="s2">"global"</span><span class="p">],</span><span class="w"></span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><a href="#__codelineno-13-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="nx">typeField</span><span class="o">:</span><span class="w"> </span><span class="s2">"#node-input-example3-type"</span><span class="w"></span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><a href="#__codelineno-13-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">})</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../select-input.png"><img alt="Input" src="../select-input.png"/></a></p>
<div class="highlight"><span class="filename">Configuracion</span><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><a href="#__codelineno-14-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example4"</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Definición -&gt; oneditprepare</span><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><a href="#__codelineno-15-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">$</span><span class="p">(</span><span class="s2">"#node-input-example4"</span><span class="p">).</span><span class="nx">typedInput</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><a href="#__codelineno-15-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">types</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><a href="#__codelineno-15-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><a href="#__codelineno-15-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">            </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"fruit"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><a href="#__codelineno-15-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">            </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><a href="#__codelineno-15-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"apple"</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s2">"Apple"</span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><a href="#__codelineno-15-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"banana"</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s2">"Banana"</span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><a href="#__codelineno-15-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"cherry"</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s2">"Cherry"</span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><a href="#__codelineno-15-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">            </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-15-10" name="__codelineno-15-10"></a><a href="#__codelineno-15-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-15-11" name="__codelineno-15-11"></a><a href="#__codelineno-15-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-15-12" name="__codelineno-15-12"></a><a href="#__codelineno-15-12"><span class="linenos" data-linenos="12 "></span></a><span class="p">})</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../multi-input.png"><img alt="Input" src="../multi-input.png"/></a></p>
<p>El resultado de un multi-select es una lista separada por comas con lo seleccionado.</p>
<div class="highlight"><span class="filename">Configuracion</span><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><a href="#__codelineno-16-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example5"</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Definición -&gt; oneditprepare</span><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><a href="#__codelineno-17-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">$</span><span class="p">(</span><span class="s2">"#node-input-example5"</span><span class="p">).</span><span class="nx">typedInput</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><a href="#__codelineno-17-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">types</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><a href="#__codelineno-17-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><a href="#__codelineno-17-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">            </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"fruit"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><a href="#__codelineno-17-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">            </span><span class="nx">multiple</span><span class="o">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><a href="#__codelineno-17-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">            </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><a href="#__codelineno-17-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"apple"</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s2">"Apple"</span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><a href="#__codelineno-17-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"banana"</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s2">"Banana"</span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><a href="#__codelineno-17-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"cherry"</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s2">"Cherry"</span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><a href="#__codelineno-17-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><a href="#__codelineno-17-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><a href="#__codelineno-17-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a><a href="#__codelineno-17-13"><span class="linenos" data-linenos="13 "></span></a><span class="p">})</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</input></input></input></input></input></input></div>
<h4 id="multi-line-text-editor">Multi-line Text Editor<a class="headerlink" href="#multi-line-text-editor" title="Permanent link">¶</a></h4>
<p>El editor de texto multilínea es un widget sacado del editor <a href="https://microsoft.github.io/monaco-editor/">Monaco</a> o <a href="https://ace.c9.io/">Ace</a> (dependiendo cual tengas activado en las settings).</p>
<p>Para generarlo debes usar <code>&lt;div class="node-text-editor" id="editor-id"&gt;&lt;/div&gt;</code>, pero deberías de añadirle unas dimensiones
para que no se vaya de madre.</p>
<p>Se inicializa con el <code>oneditprepare</code> de la Definición y con <code>oneditsave</code> y <code>oneditcancel</code> obtienes el valor cuando se cierra
el editor.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../multi-editor.png"><img alt="Multi line Editor" src="../multi-editor.png"/></a></p>
<div class="highlight"><span class="filename">Configuración</span><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><a href="#__codelineno-18-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">"height: 250px; min-height:150px;"</span> <span class="na">class</span><span class="o">=</span><span class="s">"node-text-editor"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-example-editor"</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Definición</span><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><a href="#__codelineno-19-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">oneditprepare</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><a href="#__codelineno-19-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">RED</span><span class="p">.</span><span class="nx">editor</span><span class="p">.</span><span class="nx">createEditor</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><a href="#__codelineno-19-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s1">'node-input-example-editor'</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><a href="#__codelineno-19-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="s1">'ace/mode/text'</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><a href="#__codelineno-19-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">exampleText</span><span class="w"></span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><a href="#__codelineno-19-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><a href="#__codelineno-19-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="p">},</span><span class="w"></span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><a href="#__codelineno-19-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="nx">oneditsave</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><a href="#__codelineno-19-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">exampleText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a><a href="#__codelineno-19-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">.</span><span class="nx">destroy</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a><a href="#__codelineno-19-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="ow">delete</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-12" name="__codelineno-19-12"></a><a href="#__codelineno-19-12"><span class="linenos" data-linenos="12 "></span></a><span class="p">},</span><span class="w"></span>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a><a href="#__codelineno-19-13"><span class="linenos" data-linenos="13 "></span></a><span class="nx">oneditcancel</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-14" name="__codelineno-19-14"></a><a href="#__codelineno-19-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">.</span><span class="nx">destroy</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-15" name="__codelineno-19-15"></a><a href="#__codelineno-19-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="ow">delete</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-16" name="__codelineno-19-16"></a><a href="#__codelineno-19-16"><span class="linenos" data-linenos="16 "></span></a><span class="p">},</span><span class="w"></span>
</code></pre></div>
<h3 id="help-text-informacion">Help Text (Información)<a class="headerlink" href="#help-text-informacion" title="Permanent link">¶</a></h3>
<p>La parte de Información es para la documentación que se puede ver desde el editor, en la pestaña
de información.</p>
<p>Es un <code>&lt;script&gt;&lt;/script&gt;</code> HTML <strong>o Markdown</strong> que tiene que tener el atributo <code>data-help-name</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">HTML</label><label for="__tabbed_3_2">Markdown</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><a href="#__codelineno-20-1"><span class="linenos" data-linenos="1 "></span></a><span class="cm">&lt;!-- Documentación --&gt;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><a href="#__codelineno-20-2"><span class="linenos" data-linenos="2 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span> <span class="na">data-help-name</span><span class="o">=</span><span class="s">"component-name"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><a href="#__codelineno-20-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Esto</span><span class="w"> </span><span class="nx">va</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">ser</span><span class="w"> </span><span class="nx">el</span><span class="w"> </span><span class="nx">tooltip</span><span class="w"> </span><span class="nx">que</span><span class="w"> </span><span class="nx">aparezca</span><span class="w"> </span><span class="nx">cuando</span><span class="w"> </span><span class="nx">haces</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">hover</span><span class="o">&lt;</span><span class="err">/code&gt; con el ratón sobre el componente&lt;/p&gt;</span><span class="w"></span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><a href="#__codelineno-20-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="c">&lt;!--</span><span class="w"> </span><span class="nx">HTML</span><span class="w"> </span><span class="nx">Documentación</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"></span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><a href="#__codelineno-20-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><a href="#__codelineno-21-1"><span class="linenos" data-linenos="1 "></span></a><span class="cm">&lt;!-- Documentación --&gt;</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><a href="#__codelineno-21-2"><span class="linenos" data-linenos="2 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/markdown"</span> <span class="na">data-help-name</span><span class="o">=</span><span class="s">"component-name"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><a href="#__codelineno-21-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nx">Esto</span><span class="w"> </span><span class="nx">va</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">ser</span><span class="w"> </span><span class="nx">el</span><span class="w"> </span><span class="nx">tooltip</span><span class="w"> </span><span class="nx">que</span><span class="w"> </span><span class="nx">aparezca</span><span class="w"> </span><span class="nx">cuando</span><span class="w"> </span><span class="nx">haces</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">hover</span><span class="o">&lt;</span><span class="err">/code&gt; con el ratón sobre el componente</span><span class="w"></span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><a href="#__codelineno-21-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="c">&lt;!--</span><span class="w"> </span><span class="nx">Markdown</span><span class="w"> </span><span class="nx">Documentación</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"></span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><a href="#__codelineno-21-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
</div>
</input></input></div>
<p>La estructura es más o menos la siguiente:</p>
<ol>
<li>Un párrafo corto que describa el componente -&gt; Esto servirá de tooltip cuando se haga hover con el ratón.</li>
<li>Sección de <strong>Inputs</strong></li>
<li>Sección de <strong>Outputs</strong></li>
<li>Sección de <strong>Details</strong></li>
<li>Sección de <strong>References</strong></li>
</ol>
<details class="tip" open="open">
<summary>Notas a tener en cuenta</summary>
<ul>
<li>Markdown es mucho más sencillo / menos verboso</li>
<li>Cuando vayas a referirte a una propiedad de <code>msg</code> y no a ser dentro de una lista específicara para eso, usa <code>&lt;code&gt;&lt;/code&gt;</code>.</li>
<li>No uses <code>&lt;b&gt;</code>, <code>&lt;i&gt;</code> y otro etiquetas de marcado que no se describan más abajo.</li>
</ul>
</details>
<h4 id="secciones">Secciones<a class="headerlink" href="#secciones" title="Permanent link">¶</a></h4>
<p>Cada sección se marca con un título 3 <code>&lt;h3&gt;</code> y las subsecciones con título 4 (o inferior) <code>&lt;h4&gt;</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">HTML</label><label for="__tabbed_4_2">Markdown</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><a href="#__codelineno-22-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Seccion<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><a href="#__codelineno-22-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><a href="#__codelineno-22-3"><span class="linenos" data-linenos="3 "></span></a><span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Subsección<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><a href="#__codelineno-23-1"><span class="linenos" data-linenos="1 "></span></a><span class="gu">### Sección</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><a href="#__codelineno-23-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><a href="#__codelineno-23-3"><span class="linenos" data-linenos="3 "></span></a><span class="gu">#### Subsección</span>
</code></pre></div>
</div>
</div>
</input></input></div>
<h4 id="propiedades-del-msg">Propiedades del msg<a class="headerlink" href="#propiedades-del-msg" title="Permanent link">¶</a></h4>
<p>Para definir las propiedades del mensaje, hay que usar <code>&lt;dl class="message-properties"&gt;</code>.</p>
<p>Por cada propiedad debe de haber un par de elementos <code>&lt;dt&gt;</code> y <code>&lt;dd&gt;</code></p>
<p>Cada <code>&lt;dt&gt;</code> contiene el nombre de la propiedad y opcionalmente un <code>&lt;span class="property-type"&gt;</code> con el tipo.
Si la propiedad es opcional se pone como <code>&lt;dt class="optional"&gt;</code></p>
<p>El <code>&lt;dd&gt;</code> solo contiene una breve descripción</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"><input id="__tabbed_5_2" name="__tabbed_5" type="radio"><input id="__tabbed_5_3" name="__tabbed_5" type="radio"><div class="tabbed-labels"><label for="__tabbed_5_1">Resultado</label><label for="__tabbed_5_2">HTML</label><label for="__tabbed_5_3">Markdown</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../msg-properties.png"><img alt="message properties" src="../msg-properties.png"/></a></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><a href="#__codelineno-24-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">dl</span> <span class="na">class</span><span class="o">=</span><span class="s">"message-properties"</span><span class="p">&gt;</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><a href="#__codelineno-24-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="p">&lt;</span><span class="nt">dt</span><span class="p">&gt;</span>payload
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><a href="#__codelineno-24-3"><span class="linenos" data-linenos=" 3 "></span></a>        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"property-type"</span><span class="p">&gt;</span>string | buffer<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><a href="#__codelineno-24-4"><span class="linenos" data-linenos=" 4 "></span></a>    <span class="p">&lt;/</span><span class="nt">dt</span><span class="p">&gt;</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><a href="#__codelineno-24-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="p">&lt;</span><span class="nt">dd</span><span class="p">&gt;</span> the payload of the message to publish. <span class="p">&lt;/</span><span class="nt">dd</span><span class="p">&gt;</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><a href="#__codelineno-24-6"><span class="linenos" data-linenos=" 6 "></span></a>    <span class="p">&lt;</span><span class="nt">dt</span> <span class="na">class</span><span class="o">=</span><span class="s">"optional"</span><span class="p">&gt;</span>topic
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><a href="#__codelineno-24-7"><span class="linenos" data-linenos=" 7 "></span></a>        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"property-type"</span><span class="p">&gt;</span>string<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a id="__codelineno-24-8" name="__codelineno-24-8"></a><a href="#__codelineno-24-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="p">&lt;/</span><span class="nt">dt</span><span class="p">&gt;</span>
<a id="__codelineno-24-9" name="__codelineno-24-9"></a><a href="#__codelineno-24-9"><span class="linenos" data-linenos=" 9 "></span></a>    <span class="p">&lt;</span><span class="nt">dd</span><span class="p">&gt;</span> the MQTT topic to publish to.<span class="p">&lt;/</span><span class="nt">dd</span><span class="p">&gt;</span>
<a id="__codelineno-24-10" name="__codelineno-24-10"></a><a href="#__codelineno-24-10"><span class="linenos" data-linenos="10 "></span></a><span class="p">&lt;/</span><span class="nt">dl</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><a href="#__codelineno-25-1"><span class="linenos" data-linenos="1 "></span></a>: payload (string | buffer) :  the payload of the message to publish.
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><a href="#__codelineno-25-2"><span class="linenos" data-linenos="2 "></span></a>: <span class="ge">*topic*</span> (string)          :  the MQTT topic to publish to.
</code></pre></div>
</div>
</div>
</input></input></input></div>
<h4 id="mas-de-una-salida">Más de una salida<a class="headerlink" href="#mas-de-una-salida" title="Permanent link">¶</a></h4>
<p>Si el componente solo tiene una salida, solo debe de llevar el elemento <code>&lt;dl&gt;</code> como en el punto anterior.</p>
<p>Per si tiene más de una salida, esa lista debe de ir envuelta con un elemento <code>&lt;ol class="node-ports"&gt;</code>.
Ahora cada elemento de la lista debe ir con su correspondiente <code>&lt;dl&gt;</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"><input id="__tabbed_6_2" name="__tabbed_6" type="radio"><input id="__tabbed_6_3" name="__tabbed_6" type="radio"><div class="tabbed-labels"><label for="__tabbed_6_1">Resultado</label><label for="__tabbed_6_2">HTML</label><label for="__tabbed_6_3">Markdown</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../multiple-outputs.png"><img alt="multiple outputs" src="../multiple-outputs.png"/></a></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><a href="#__codelineno-26-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">ol</span> <span class="na">class</span><span class="o">=</span><span class="s">"node-ports"</span><span class="p">&gt;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><a href="#__codelineno-26-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Standard output
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><a href="#__codelineno-26-3"><span class="linenos" data-linenos=" 3 "></span></a>        <span class="p">&lt;</span><span class="nt">dl</span> <span class="na">class</span><span class="o">=</span><span class="s">"message-properties"</span><span class="p">&gt;</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><a href="#__codelineno-26-4"><span class="linenos" data-linenos=" 4 "></span></a>            <span class="p">&lt;</span><span class="nt">dt</span><span class="p">&gt;</span>payload <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"property-type"</span><span class="p">&gt;</span>string<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">dt</span><span class="p">&gt;</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><a href="#__codelineno-26-5"><span class="linenos" data-linenos=" 5 "></span></a>            <span class="p">&lt;</span><span class="nt">dd</span><span class="p">&gt;</span>the standard output of the command.<span class="p">&lt;/</span><span class="nt">dd</span><span class="p">&gt;</span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><a href="#__codelineno-26-6"><span class="linenos" data-linenos=" 6 "></span></a>        <span class="p">&lt;/</span><span class="nt">dl</span><span class="p">&gt;</span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><a href="#__codelineno-26-7"><span class="linenos" data-linenos=" 7 "></span></a>    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a id="__codelineno-26-8" name="__codelineno-26-8"></a><a href="#__codelineno-26-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Standard error
<a id="__codelineno-26-9" name="__codelineno-26-9"></a><a href="#__codelineno-26-9"><span class="linenos" data-linenos=" 9 "></span></a>        <span class="p">&lt;</span><span class="nt">dl</span> <span class="na">class</span><span class="o">=</span><span class="s">"message-properties"</span><span class="p">&gt;</span>
<a id="__codelineno-26-10" name="__codelineno-26-10"></a><a href="#__codelineno-26-10"><span class="linenos" data-linenos="10 "></span></a>            <span class="p">&lt;</span><span class="nt">dt</span><span class="p">&gt;</span>payload <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"property-type"</span><span class="p">&gt;</span>string<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">dt</span><span class="p">&gt;</span>
<a id="__codelineno-26-11" name="__codelineno-26-11"></a><a href="#__codelineno-26-11"><span class="linenos" data-linenos="11 "></span></a>            <span class="p">&lt;</span><span class="nt">dd</span><span class="p">&gt;</span>the standard error of the command.<span class="p">&lt;/</span><span class="nt">dd</span><span class="p">&gt;</span>
<a id="__codelineno-26-12" name="__codelineno-26-12"></a><a href="#__codelineno-26-12"><span class="linenos" data-linenos="12 "></span></a>        <span class="p">&lt;/</span><span class="nt">dl</span><span class="p">&gt;</span>
<a id="__codelineno-26-13" name="__codelineno-26-13"></a><a href="#__codelineno-26-13"><span class="linenos" data-linenos="13 "></span></a>    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a id="__codelineno-26-14" name="__codelineno-26-14"></a><a href="#__codelineno-26-14"><span class="linenos" data-linenos="14 "></span></a><span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><a href="#__codelineno-27-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">1.</span> Standard output
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><a href="#__codelineno-27-2"><span class="linenos" data-linenos="2 "></span></a>: payload (string) : the standard output of the command.
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><a href="#__codelineno-27-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><a href="#__codelineno-27-4"><span class="linenos" data-linenos="4 "></span></a><span class="k">2.</span> Standard error
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><a href="#__codelineno-27-5"><span class="linenos" data-linenos="5 "></span></a>: payload (string) : the standard error of the command.
</code></pre></div>
</div>
</div>
</input></input></input></div>
<h4 id="ejemplo-completo-con-todo">Ejemplo completo con todo<a class="headerlink" href="#ejemplo-completo-con-todo" title="Permanent link">¶</a></h4>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"><input id="__tabbed_7_2" name="__tabbed_7" type="radio"><input id="__tabbed_7_3" name="__tabbed_7" type="radio"><div class="tabbed-labels"><label for="__tabbed_7_1">Resultado</label><label for="__tabbed_7_2">Ejemplo completo Markdown</label><label for="__tabbed_7_3">Ejemplo completo HTML</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../help-text.png"><img alt="Resultado" src="../help-text.png"/></a></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><a href="#__codelineno-28-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/markdown"</span> <span class="na">data-help-name</span><span class="o">=</span><span class="s">"node-type"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><a href="#__codelineno-28-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">Connects</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">MQTT</span><span class="w"> </span><span class="nx">broker</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">publishes</span><span class="w"> </span><span class="nx">messages</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><a href="#__codelineno-28-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><a href="#__codelineno-28-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="err">###</span><span class="w"> </span><span class="nx">Inputs</span><span class="w"></span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><a href="#__codelineno-28-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-28-6" name="__codelineno-28-6"></a><a href="#__codelineno-28-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="p">(</span><span class="nx">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">buffer</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w">  </span><span class="nx">the</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">publish</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a><a href="#__codelineno-28-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="o">*</span><span class="nx">topic</span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="nx">string</span><span class="p">)</span><span class="w">          </span><span class="o">:</span><span class="w">  </span><span class="nx">the</span><span class="w"> </span><span class="nx">MQTT</span><span class="w"> </span><span class="nx">topic</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">publish</span><span class="w"> </span><span class="nx">to</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><a href="#__codelineno-28-8"><span class="linenos" data-linenos=" 8 "></span></a>
<a id="__codelineno-28-9" name="__codelineno-28-9"></a><a href="#__codelineno-28-9"><span class="linenos" data-linenos=" 9 "></span></a>
<a id="__codelineno-28-10" name="__codelineno-28-10"></a><a href="#__codelineno-28-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="err">###</span><span class="w"> </span><span class="nx">Outputs</span><span class="w"></span>
<a id="__codelineno-28-11" name="__codelineno-28-11"></a><a href="#__codelineno-28-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-28-12" name="__codelineno-28-12"></a><a href="#__codelineno-28-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="mf">1.</span><span class="w"> </span><span class="nx">Standard</span><span class="w"> </span><span class="nx">output</span><span class="w"></span>
<a id="__codelineno-28-13" name="__codelineno-28-13"></a><a href="#__codelineno-28-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="p">(</span><span class="nx">string</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">standard</span><span class="w"> </span><span class="nx">output</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">command</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-14" name="__codelineno-28-14"></a><a href="#__codelineno-28-14"><span class="linenos" data-linenos="14 "></span></a>
<a id="__codelineno-28-15" name="__codelineno-28-15"></a><a href="#__codelineno-28-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="mf">2.</span><span class="w"> </span><span class="nx">Standard</span><span class="w"> </span><span class="nx">error</span><span class="w"></span>
<a id="__codelineno-28-16" name="__codelineno-28-16"></a><a href="#__codelineno-28-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="p">(</span><span class="nx">string</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">standard</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">command</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-17" name="__codelineno-28-17"></a><a href="#__codelineno-28-17"><span class="linenos" data-linenos="17 "></span></a>
<a id="__codelineno-28-18" name="__codelineno-28-18"></a><a href="#__codelineno-28-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">    </span><span class="err">###</span><span class="w"> </span><span class="nx">Details</span><span class="w"></span>
<a id="__codelineno-28-19" name="__codelineno-28-19"></a><a href="#__codelineno-28-19"><span class="linenos" data-linenos="19 "></span></a>
<a id="__codelineno-28-20" name="__codelineno-28-20"></a><a href="#__codelineno-28-20"><span class="linenos" data-linenos="20 "></span></a><span class="w">    </span><span class="sb">`msg.payload`</span><span class="w"> </span><span class="nx">is</span><span class="w"> </span><span class="nx">used</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">published</span><span class="w"> </span><span class="nx">message</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-21" name="__codelineno-28-21"></a><a href="#__codelineno-28-21"><span class="linenos" data-linenos="21 "></span></a><span class="w">    </span><span class="nx">If</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">contains</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nb">Object</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">converted</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nb">JSON</span><span class="w"> </span><span class="nx">string</span><span class="w"> </span><span class="nx">before</span><span class="w"> </span><span class="nx">being</span><span class="w"> </span><span class="nx">sent</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-22" name="__codelineno-28-22"></a><a href="#__codelineno-28-22"><span class="linenos" data-linenos="22 "></span></a><span class="w">    </span><span class="nx">If</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">contains</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">binary</span><span class="w"> </span><span class="nx">Buffer</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">published</span><span class="w"> </span><span class="kr">as</span><span class="o">-</span><span class="nx">is</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-23" name="__codelineno-28-23"></a><a href="#__codelineno-28-23"><span class="linenos" data-linenos="23 "></span></a>
<a id="__codelineno-28-24" name="__codelineno-28-24"></a><a href="#__codelineno-28-24"><span class="linenos" data-linenos="24 "></span></a><span class="w">    </span><span class="nx">The</span><span class="w"> </span><span class="nx">topic</span><span class="w"> </span><span class="nx">used</span><span class="w"> </span><span class="nx">can</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">configured</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="nx">or</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">left</span><span class="w"> </span><span class="nx">blank</span><span class="p">,</span><span class="w"> </span><span class="nx">can</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">set</span><span class="w"></span>
<a id="__codelineno-28-25" name="__codelineno-28-25"></a><a href="#__codelineno-28-25"><span class="linenos" data-linenos="25 "></span></a><span class="w">    </span><span class="sb">`msg.topic`</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-26" name="__codelineno-28-26"></a><a href="#__codelineno-28-26"><span class="linenos" data-linenos="26 "></span></a>
<a id="__codelineno-28-27" name="__codelineno-28-27"></a><a href="#__codelineno-28-27"><span class="linenos" data-linenos="27 "></span></a><span class="w">    </span><span class="nx">Likewise</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">QoS</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">retain</span><span class="w"> </span><span class="nx">values</span><span class="w"> </span><span class="nx">can</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">configured</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="nx">or</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">left</span><span class="w"></span>
<a id="__codelineno-28-28" name="__codelineno-28-28"></a><a href="#__codelineno-28-28"><span class="linenos" data-linenos="28 "></span></a><span class="w">    </span><span class="nx">blank</span><span class="p">,</span><span class="w"> </span><span class="nx">set</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="sb">`msg.qos`</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="sb">`msg.retain`</span><span class="w"> </span><span class="nx">respectively</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-28-29" name="__codelineno-28-29"></a><a href="#__codelineno-28-29"><span class="linenos" data-linenos="29 "></span></a>
<a id="__codelineno-28-30" name="__codelineno-28-30"></a><a href="#__codelineno-28-30"><span class="linenos" data-linenos="30 "></span></a><span class="w">    </span><span class="err">###</span><span class="w"> </span><span class="nx">References</span><span class="w"></span>
<a id="__codelineno-28-31" name="__codelineno-28-31"></a><a href="#__codelineno-28-31"><span class="linenos" data-linenos="31 "></span></a>
<a id="__codelineno-28-32" name="__codelineno-28-32"></a><a href="#__codelineno-28-32"><span class="linenos" data-linenos="32 "></span></a><span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="nx">Twitter</span><span class="w"> </span><span class="nx">API</span><span class="w"> </span><span class="nx">docs</span><span class="p">]()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">full</span><span class="w"> </span><span class="nx">description</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="sb">`msg.tweet`</span><span class="w"> </span><span class="nx">property</span><span class="w"></span>
<a id="__codelineno-28-33" name="__codelineno-28-33"></a><a href="#__codelineno-28-33"><span class="linenos" data-linenos="33 "></span></a><span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="nx">GitHub</span><span class="p">]()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">nodes</span><span class="w"> </span><span class="nx">github</span><span class="w"> </span><span class="nx">repository</span><span class="w"></span>
<a id="__codelineno-28-34" name="__codelineno-28-34"></a><a href="#__codelineno-28-34"><span class="linenos" data-linenos="34 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><a href="#__codelineno-29-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span> <span class="na">data-help-name</span><span class="o">=</span><span class="s">"node-type"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><a href="#__codelineno-29-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Connects</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">MQTT</span><span class="w"> </span><span class="nx">broker</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">publishes</span><span class="w"> </span><span class="nx">messages</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span><span class="w"></span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><a href="#__codelineno-29-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><a href="#__codelineno-29-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Inputs</span><span class="o">&lt;</span><span class="err">/h3&gt;</span><span class="w"></span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><a href="#__codelineno-29-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">dl</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"message-properties"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><a href="#__codelineno-29-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">payload</span><span class="w"></span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><a href="#__codelineno-29-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">                </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"property-type"</span><span class="o">&gt;</span><span class="nx">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">buffer</span><span class="o">&lt;</span><span class="err">/span&gt;</span><span class="w"></span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><a href="#__codelineno-29-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="err">/dt&gt;</span><span class="w"></span>
<a id="__codelineno-29-9" name="__codelineno-29-9"></a><a href="#__codelineno-29-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">publish</span><span class="p">.</span><span class="w"> </span><span class="o">&lt;</span><span class="err">/dd&gt;</span><span class="w"></span>
<a id="__codelineno-29-10" name="__codelineno-29-10"></a><a href="#__codelineno-29-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">dt</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"optional"</span><span class="o">&gt;</span><span class="nx">topic</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"property-type"</span><span class="o">&gt;</span><span class="nx">string</span><span class="o">&lt;</span><span class="err">/span&gt;&lt;/dt&gt;</span><span class="w"></span>
<a id="__codelineno-29-11" name="__codelineno-29-11"></a><a href="#__codelineno-29-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">MQTT</span><span class="w"> </span><span class="nx">topic</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">publish</span><span class="w"> </span><span class="nx">to</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/dd&gt;</span><span class="w"></span>
<a id="__codelineno-29-12" name="__codelineno-29-12"></a><a href="#__codelineno-29-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/dl&gt;</span><span class="w"></span>
<a id="__codelineno-29-13" name="__codelineno-29-13"></a><a href="#__codelineno-29-13"><span class="linenos" data-linenos="13 "></span></a>
<a id="__codelineno-29-14" name="__codelineno-29-14"></a><a href="#__codelineno-29-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Outputs</span><span class="o">&lt;</span><span class="err">/h3&gt;</span><span class="w"></span>
<a id="__codelineno-29-15" name="__codelineno-29-15"></a><a href="#__codelineno-29-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">ol</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"node-ports"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-29-16" name="__codelineno-29-16"></a><a href="#__codelineno-29-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Standard</span><span class="w"> </span><span class="nx">output</span><span class="w"></span>
<a id="__codelineno-29-17" name="__codelineno-29-17"></a><a href="#__codelineno-29-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">                </span><span class="o">&lt;</span><span class="nx">dl</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"message-properties"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-29-18" name="__codelineno-29-18"></a><a href="#__codelineno-29-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">                    </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">payload</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"property-type"</span><span class="o">&gt;</span><span class="nx">string</span><span class="o">&lt;</span><span class="err">/span&gt;&lt;/dt&gt;</span><span class="w"></span>
<a id="__codelineno-29-19" name="__codelineno-29-19"></a><a href="#__codelineno-29-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">                    </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="nx">the</span><span class="w"> </span><span class="nx">standard</span><span class="w"> </span><span class="nx">output</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">command</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/dd&gt;</span><span class="w"></span>
<a id="__codelineno-29-20" name="__codelineno-29-20"></a><a href="#__codelineno-29-20"><span class="linenos" data-linenos="20 "></span></a><span class="w">                </span><span class="o">&lt;</span><span class="err">/dl&gt;</span><span class="w"></span>
<a id="__codelineno-29-21" name="__codelineno-29-21"></a><a href="#__codelineno-29-21"><span class="linenos" data-linenos="21 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="err">/li&gt;</span><span class="w"></span>
<a id="__codelineno-29-22" name="__codelineno-29-22"></a><a href="#__codelineno-29-22"><span class="linenos" data-linenos="22 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Standard</span><span class="w"> </span><span class="nx">error</span><span class="w"></span>
<a id="__codelineno-29-23" name="__codelineno-29-23"></a><a href="#__codelineno-29-23"><span class="linenos" data-linenos="23 "></span></a><span class="w">                </span><span class="o">&lt;</span><span class="nx">dl</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"message-properties"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-29-24" name="__codelineno-29-24"></a><a href="#__codelineno-29-24"><span class="linenos" data-linenos="24 "></span></a><span class="w">                    </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">payload</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"property-type"</span><span class="o">&gt;</span><span class="nx">string</span><span class="o">&lt;</span><span class="err">/span&gt;&lt;/dt&gt;</span><span class="w"></span>
<a id="__codelineno-29-25" name="__codelineno-29-25"></a><a href="#__codelineno-29-25"><span class="linenos" data-linenos="25 "></span></a><span class="w">                    </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="nx">the</span><span class="w"> </span><span class="nx">standard</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">command</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/dd&gt;</span><span class="w"></span>
<a id="__codelineno-29-26" name="__codelineno-29-26"></a><a href="#__codelineno-29-26"><span class="linenos" data-linenos="26 "></span></a><span class="w">                </span><span class="o">&lt;</span><span class="err">/dl&gt;</span><span class="w"></span>
<a id="__codelineno-29-27" name="__codelineno-29-27"></a><a href="#__codelineno-29-27"><span class="linenos" data-linenos="27 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="err">/li&gt;</span><span class="w"></span>
<a id="__codelineno-29-28" name="__codelineno-29-28"></a><a href="#__codelineno-29-28"><span class="linenos" data-linenos="28 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/ol&gt;</span><span class="w"></span>
<a id="__codelineno-29-29" name="__codelineno-29-29"></a><a href="#__codelineno-29-29"><span class="linenos" data-linenos="29 "></span></a>
<a id="__codelineno-29-30" name="__codelineno-29-30"></a><a href="#__codelineno-29-30"><span class="linenos" data-linenos="30 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Details</span><span class="o">&lt;</span><span class="err">/h3&gt;</span><span class="w"></span>
<a id="__codelineno-29-31" name="__codelineno-29-31"></a><a href="#__codelineno-29-31"><span class="linenos" data-linenos="31 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">msg</span><span class="p">.</span><span class="nx">payload</span><span class="o">&lt;</span><span class="err">/code&gt; is used as the payload of the published message.</span><span class="w"></span>
<a id="__codelineno-29-32" name="__codelineno-29-32"></a><a href="#__codelineno-29-32"><span class="linenos" data-linenos="32 "></span></a><span class="w">        </span><span class="nx">If</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">contains</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nb">Object</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">converted</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nb">JSON</span><span class="w"> </span><span class="nx">string</span><span class="w"> </span><span class="nx">before</span><span class="w"> </span><span class="nx">being</span><span class="w"> </span><span class="nx">sent</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-29-33" name="__codelineno-29-33"></a><a href="#__codelineno-29-33"><span class="linenos" data-linenos="33 "></span></a><span class="w">        </span><span class="nx">If</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">contains</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">binary</span><span class="w"> </span><span class="nx">Buffer</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">published</span><span class="w"> </span><span class="kr">as</span><span class="o">-</span><span class="nx">is</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span><span class="w"></span>
<a id="__codelineno-29-34" name="__codelineno-29-34"></a><a href="#__codelineno-29-34"><span class="linenos" data-linenos="34 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">The</span><span class="w"> </span><span class="nx">topic</span><span class="w"> </span><span class="nx">used</span><span class="w"> </span><span class="nx">can</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">configured</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="nx">or</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">left</span><span class="w"> </span><span class="nx">blank</span><span class="p">,</span><span class="w"> </span><span class="nx">can</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">set</span><span class="w"></span>
<a id="__codelineno-29-35" name="__codelineno-29-35"></a><a href="#__codelineno-29-35"><span class="linenos" data-linenos="35 "></span></a><span class="w">        </span><span class="nx">by</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">msg</span><span class="p">.</span><span class="nx">topic</span><span class="o">&lt;</span><span class="err">/code&gt;.&lt;/p&gt;</span><span class="w"></span>
<a id="__codelineno-29-36" name="__codelineno-29-36"></a><a href="#__codelineno-29-36"><span class="linenos" data-linenos="36 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Likewise</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">QoS</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">retain</span><span class="w"> </span><span class="nx">values</span><span class="w"> </span><span class="nx">can</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">configured</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="nx">or</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">left</span><span class="w"></span>
<a id="__codelineno-29-37" name="__codelineno-29-37"></a><a href="#__codelineno-29-37"><span class="linenos" data-linenos="37 "></span></a><span class="w">        </span><span class="nx">blank</span><span class="p">,</span><span class="w"> </span><span class="nx">set</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">msg</span><span class="p">.</span><span class="nx">qos</span><span class="o">&lt;</span><span class="err">/code&gt; and &lt;code&gt;msg.retain&lt;/code&gt; respectively.&lt;/p&gt;</span><span class="w"></span>
<a id="__codelineno-29-38" name="__codelineno-29-38"></a><a href="#__codelineno-29-38"><span class="linenos" data-linenos="38 "></span></a>
<a id="__codelineno-29-39" name="__codelineno-29-39"></a><a href="#__codelineno-29-39"><span class="linenos" data-linenos="39 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">References</span><span class="o">&lt;</span><span class="err">/h3&gt;</span><span class="w"></span>
<a id="__codelineno-29-40" name="__codelineno-29-40"></a><a href="#__codelineno-29-40"><span class="linenos" data-linenos="40 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-29-41" name="__codelineno-29-41"></a><a href="#__codelineno-29-41"><span class="linenos" data-linenos="41 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">Twitter</span><span class="w"> </span><span class="nx">API</span><span class="w"> </span><span class="nx">docs</span><span class="o">&lt;</span><span class="err">/a&gt; - full description of &lt;code&gt;msg.tweet&lt;/code&gt; property&lt;/li&gt;</span><span class="w"></span>
<a id="__codelineno-29-42" name="__codelineno-29-42"></a><a href="#__codelineno-29-42"><span class="linenos" data-linenos="42 "></span></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">GitHub</span><span class="o">&lt;</span><span class="err">/a&gt; - the nodes github repository&lt;/li&gt;</span><span class="w"></span>
<a id="__codelineno-29-43" name="__codelineno-29-43"></a><a href="#__codelineno-29-43"><span class="linenos" data-linenos="43 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/ul&gt;</span><span class="w"></span>
<a id="__codelineno-29-44" name="__codelineno-29-44"></a><a href="#__codelineno-29-44"><span class="linenos" data-linenos="44 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
</div>
</input></input></input></div>
<h2 id="fichero-js">Fichero JS<a class="headerlink" href="#fichero-js" title="Permanent link">¶</a></h2>
<p>El <strong>Fichero JS</strong> indica el comportamiento del componente cuando está en funcionamiento.</p>
<p>Para crear un componente el esqueleto es como el que sigue:</p>
<ol>
<li>Hay que exportar una función que reciba como parámetro el objeto global / runtime, Node-Red (en el ejemplo, <code>RED</code>).</li>
<li>Luego tiene que haber una función donde se le va a pasar como argumento su configuración proveniente del <strong>Fichero HTML</strong> (el <code>config</code> en el ejemplo).</li>
<li>Luego lo siguiente que hay que hacer es cargar el <code>this</code> con su configuración a través de <code>RED.Nodes.createNode()</code></li>
<li>Después vendría la lógica del componente.</li>
<li>Por último, fuera de la función del módulo, hay que registrar el identificador del componente (el string usado en el Fichero HTML) con la función creada a través de <code>RED.nodes.registerType()</code></li>
</ol>
<div class="highlight"><span class="filename">Esqueleto de un componente en JS</span><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><a href="#__codelineno-30-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><a href="#__codelineno-30-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">SampleNode</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><a href="#__codelineno-30-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">createNode</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><a href="#__codelineno-30-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="c1">// component logic</span><span class="w"></span>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><a href="#__codelineno-30-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a><a href="#__codelineno-30-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-30-7" name="__codelineno-30-7"></a><a href="#__codelineno-30-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s2">"sample"</span><span class="p">,</span><span class="w"> </span><span class="nx">SampleNode</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a><a href="#__codelineno-30-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Renombrar el this</p>
<p>Una práctica común dentro de la lógica del componente es renombrar el <code>this</code> como <code>node</code>, para saber que te refieres al nodo</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><a href="#__codelineno-31-1"><span class="linenos" data-linenos="1 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>Para las subsecciones siguientes, si ves <code>node</code> piensa que es el <code>this</code>. </p>
</div>
<h3 id="leer-y-enviar-mensajes">Leer y enviar mensajes<a class="headerlink" href="#leer-y-enviar-mensajes" title="Permanent link">¶</a></h3>
<p>Para leer mensajes, hay que habilitar el evento de <code>input</code> y pasarle una función <code>listener</code> 3 parámetros:</p>
<ol>
<li>El primero es el mensaje de entrada.</li>
<li>El segundo es la función para enviar el mensaje.</li>
<li>El tercero es un parametro opcional, que sirve para terminar el envío si el módulo envía mensajes asíncronamente.</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><a href="#__codelineno-32-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'input'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span><span class="w"> </span><span class="nx">send</span><span class="p">,</span><span class="w"> </span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><a href="#__codelineno-32-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="c1">// do something with 'msg'</span><span class="w"></span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><a href="#__codelineno-32-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><a href="#__codelineno-32-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="c1">// Once finished, call 'done'.</span><span class="w"></span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><a href="#__codelineno-32-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="c1">// This call is wrapped in a check that 'done' exists</span><span class="w"></span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a><a href="#__codelineno-32-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="c1">// so the node will work in earlier versions of Node-RED (&lt;1.0)</span><span class="w"></span>
<a id="__codelineno-32-7" name="__codelineno-32-7"></a><a href="#__codelineno-32-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-32-8" name="__codelineno-32-8"></a><a href="#__codelineno-32-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="nx">done</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-32-9" name="__codelineno-32-9"></a><a href="#__codelineno-32-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-32-10" name="__codelineno-32-10"></a><a href="#__codelineno-32-10"><span class="linenos" data-linenos="10 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
<p>En cambio para enviar mensajes tienes dos opciones:</p>
<ul>
<li>Que no dependan de las entradas -&gt; Se mandan directamente</li>
<li>Que dependan de las entradas -&gt; Hay que mandarlas a través de la función <code>listener</code> anterior.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><a href="#__codelineno-33-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><a href="#__codelineno-33-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="c1">// Salida que no depende de la entrada</span><span class="w"></span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><a href="#__codelineno-33-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">payload</span><span class="o">:</span><span class="w"> </span><span class="s2">"salida sin entrada"</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><a href="#__codelineno-33-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><a href="#__codelineno-33-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="c1">// Salida que depende de la entrada</span><span class="w"></span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><a href="#__codelineno-33-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'input'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span><span class="w"> </span><span class="nx">send</span><span class="p">,</span><span class="w"> </span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><a href="#__codelineno-33-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="c1">// Comprobar que existe la función send para retrocompatibilidades de Node-Red</span><span class="w"></span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><a href="#__codelineno-33-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="nx">send</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">send</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">node</span><span class="p">.</span><span class="nx">send</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><a href="#__codelineno-33-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="c1">// Preparar el mensaje</span><span class="w"></span>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a><a href="#__codelineno-33-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="nx">msg</span><span class="p">.</span><span class="nx">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"salida con entrada"</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a><a href="#__codelineno-33-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-33-12" name="__codelineno-33-12"></a><a href="#__codelineno-33-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="c1">// Acabar el envío</span><span class="w"></span>
<a id="__codelineno-33-13" name="__codelineno-33-13"></a><a href="#__codelineno-33-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-14" name="__codelineno-33-14"></a><a href="#__codelineno-33-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">        </span><span class="nx">done</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-33-15" name="__codelineno-33-15"></a><a href="#__codelineno-33-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-16" name="__codelineno-33-16"></a><a href="#__codelineno-33-16"><span class="linenos" data-linenos="16 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
<p>Independientemente de como sean las salidas (dependiente de entradas o no), hay que tener en cuenta
que Node-Red permite tener múltiple salidas y múltiples mensajes</p>
<ul>
<li>Más de una salida -&gt; <code>node.send([msg1, msg2, msg3])</code></li>
<li>Mas de un mensaje por salida -&gt; <code>node.send([msg1, [msg2A, msg2B], msg3])</code></li>
</ul>
<p>Si tu salida depende de la entrada, y solo vas a modificar el mensaje, procura reenviar
el objeto <code>msg</code> modificado y no crear uno nuevo.</p>
<p>Si el <code>msg</code> es <code>null</code>, aunque llames a <code>send(msg)</code>, este no se enviará.</p>
<h3 id="trabajar-con-contexto">Trabajar con contexto<a class="headerlink" href="#trabajar-con-contexto" title="Permanent link">¶</a></h3>
<p>Como ya sabrás, en Node-Red puedes trabajar con 3 tipos de contextos:</p>
<ul>
<li>Contexto del Nodo -&gt; Objeto <code>context</code> en los nodos <code>function</code>: Es la información almacenada en el nodo.</li>
<li>Contexto del Flujo -&gt; Objeto <code>flow</code> en los nodos <code>function</code>: Es la información almacenada en el flujo.</li>
<li>Contexto Global -&gt; Objeto <code>global</code> en los nodos <code>function</code>: Es la información almacenada global.</li>
</ul>
<p>Para poder usar esto desde el <strong>Fichero JS</strong> es tan sencillo como usar:</p>
<ul>
<li><code>node.context()</code> -&gt; Contexto del nodo</li>
<li><code>node.context().flow</code> -&gt; Contexto del Flow</li>
<li><code>node.context().global</code> -&gt; Contexto Global</li>
</ul>
<p>Cada uno de los contextos tienen sus funciones típicas <code>set</code> / <code>get</code> para guardar y leer información.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><a href="#__codelineno-34-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1">// Node</span><span class="w"></span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><a href="#__codelineno-34-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">nodeContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><a href="#__codelineno-34-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-34-4" name="__codelineno-34-4"></a><a href="#__codelineno-34-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="nx">nodeContext</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'data'</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-5" name="__codelineno-34-5"></a><a href="#__codelineno-34-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">nodecontext</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'data'</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-34-6" name="__codelineno-34-6"></a><a href="#__codelineno-34-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="c1">// Flow</span><span class="w"></span>
<a id="__codelineno-34-7" name="__codelineno-34-7"></a><a href="#__codelineno-34-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">flowContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">().</span><span class="nx">flow</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-34-8" name="__codelineno-34-8"></a><a href="#__codelineno-34-8"><span class="linenos" data-linenos=" 8 "></span></a>
<a id="__codelineno-34-9" name="__codelineno-34-9"></a><a href="#__codelineno-34-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="nx">flowContext</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'data'</span><span class="p">,</span><span class="w"> </span><span class="s1">'say h'</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-10" name="__codelineno-34-10"></a><a href="#__codelineno-34-10"><span class="linenos" data-linenos="10 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flowContext</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'data'</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-34-11" name="__codelineno-34-11"></a><a href="#__codelineno-34-11"><span class="linenos" data-linenos="11 "></span></a><span class="c1">// Global</span><span class="w"></span>
<a id="__codelineno-34-12" name="__codelineno-34-12"></a><a href="#__codelineno-34-12"><span class="linenos" data-linenos="12 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">globalContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">().</span><span class="nb">global</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-34-13" name="__codelineno-34-13"></a><a href="#__codelineno-34-13"><span class="linenos" data-linenos="13 "></span></a>
<a id="__codelineno-34-14" name="__codelineno-34-14"></a><a href="#__codelineno-34-14"><span class="linenos" data-linenos="14 "></span></a><span class="nx">globalContext</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'data'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">hi</span><span class="o">:</span><span class="w"> </span><span class="s1">'hello'</span><span class="w"> </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-34-15" name="__codelineno-34-15"></a><a href="#__codelineno-34-15"><span class="linenos" data-linenos="15 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">globalContext</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'data'</span><span class="p">))</span><span class="w"></span>
</code></pre></div>
<details class="note" open="open">
<summary>Componententes <code>config</code> y contexto</summary>
<p>Los nodos de configuración que son utilizados y son compartidos por otros nodos, son globales por defecto. A menos
que el usuario del nodo especifique lo contrario.</p>
<p>En tal caso, no se puede suponer que tengan acceso al contexto del Flow.</p>
</details>
<h3 id="logging-y-gestion-de-errores">Logging y gestión de errores<a class="headerlink" href="#logging-y-gestion-de-errores" title="Permanent link">¶</a></h3>
<p>Para poder tener mensajes de logs, el propio componente nos provee ya de estas funciones:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><a href="#__codelineno-35-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1">// Since Node-RED 0.17</span><span class="w"></span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><a href="#__codelineno-35-2"><span class="linenos" data-linenos="2 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">trace</span><span class="p">(</span><span class="s2">"Log para comprobar cosas internas en el desarrollo, no para producción"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><a href="#__codelineno-35-3"><span class="linenos" data-linenos="3 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">"Log para detalles de debuggear el nodo, no para producción"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><a href="#__codelineno-35-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1">// Before Node-RED 0.17</span><span class="w"></span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><a href="#__codelineno-35-5"><span class="linenos" data-linenos="5 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Log de información"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><a href="#__codelineno-35-6"><span class="linenos" data-linenos="6 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"Log de warning para advertir que algo posiblemente malo está pasando"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><a href="#__codelineno-35-7"><span class="linenos" data-linenos="7 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Log de errores"</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>También se pueden propagar errores para ser estudiados desde el <strong>Flow</strong> posteriormente.
Para ello hay que pasar el error a la función <code>done()</code>, pero por retrocompatibilidad,
si esta función no existe, hay que usar <code>node.error()</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><a href="#__codelineno-36-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kd">let</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><a href="#__codelineno-36-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><a href="#__codelineno-36-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'input'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span><span class="w"> </span><span class="nx">send</span><span class="p">,</span><span class="w"> </span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><a href="#__codelineno-36-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="c1">// do something with 'msg'</span><span class="w"></span>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a><a href="#__codelineno-36-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-36-6" name="__codelineno-36-6"></a><a href="#__codelineno-36-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="c1">// If an error is hit, report it to the runtime</span><span class="w"></span>
<a id="__codelineno-36-7" name="__codelineno-36-7"></a><a href="#__codelineno-36-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-36-8" name="__codelineno-36-8"></a><a href="#__codelineno-36-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-36-9" name="__codelineno-36-9"></a><a href="#__codelineno-36-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">            </span><span class="c1">// Node-RED 1.0 compatible</span><span class="w"></span>
<a id="__codelineno-36-10" name="__codelineno-36-10"></a><a href="#__codelineno-36-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="nx">done</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-11" name="__codelineno-36-11"></a><a href="#__codelineno-36-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-36-12" name="__codelineno-36-12"></a><a href="#__codelineno-36-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">            </span><span class="c1">// Node-RED 0.x compatible</span><span class="w"></span>
<a id="__codelineno-36-13" name="__codelineno-36-13"></a><a href="#__codelineno-36-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">            </span><span class="nx">node</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">msg</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-14" name="__codelineno-36-14"></a><a href="#__codelineno-36-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-36-15" name="__codelineno-36-15"></a><a href="#__codelineno-36-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-36-16" name="__codelineno-36-16"></a><a href="#__codelineno-36-16"><span class="linenos" data-linenos="16 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
<h3 id="status">Status<a class="headerlink" href="#status" title="Permanent link">¶</a></h3>
<p>Se puede definir el status del componente, sobre todo como ayuda visual en el <strong>Flow</strong>: para ver si está conectado, desconectado, etc.</p>
<details class="tip" open="open">
<summary>El status es más importante de lo que crees</summary>
<p>El status del componente no solo es algo visual para el editor. El estado de un componente
se puede capturar con el componente <code>Status</code> que te permite averiguar si por ejemplo un
componente concreto ha perdido la conexión, o se ha conectado.</p>
<p><strong>Ponle especial cariño al estado de tu componente</strong></p>
</details>
<p>Para setearlo hay que usar la función <code>status()</code> y pasarle un objeto que contenga</p>
<table>
<thead>
<tr>
<th align="left">Propiedad</th>
<th align="left">Valor</th>
<th align="left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>shape</code></td>
<td align="left"><code>ring</code> - <code>dot</code></td>
<td align="left">Forma con la que mostrar el status</td>
</tr>
<tr>
<td align="left"><code>fill</code></td>
<td align="left"><code>red</code> - <code>green</code> - <code>yellow</code> - <code>blue</code> - <code>grey</code></td>
<td align="left">Color con el que mostrar el status</td>
</tr>
<tr>
<td align="left"><code>text</code></td>
<td align="left"></td>
<td align="left">Texto a mostrar en el status</td>
</tr>
</tbody>
</table>
<div class="highlight"><span class="filename">Ejemplos de status</span><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><a href="#__codelineno-37-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">status</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><a href="#__codelineno-37-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">shape</span><span class="o">:</span><span class="w"> </span><span class="s2">"ring"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><a href="#__codelineno-37-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="nx">fill</span><span class="o">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><a href="#__codelineno-37-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">"disconnected"</span><span class="w"></span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><a href="#__codelineno-37-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="p">});</span><span class="w"></span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><a href="#__codelineno-37-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="c1">// ...</span><span class="w"></span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><a href="#__codelineno-37-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">status</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><a href="#__codelineno-37-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="nx">shape</span><span class="o">:</span><span class="w"> </span><span class="s2">"dot"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><a href="#__codelineno-37-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="nx">fill</span><span class="o">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-37-10" name="__codelineno-37-10"></a><a href="#__codelineno-37-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">"connected"</span><span class="w"></span>
<a id="__codelineno-37-11" name="__codelineno-37-11"></a><a href="#__codelineno-37-11"><span class="linenos" data-linenos="11 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
<h3 id="cerrando-el-componente">Cerrando el componente<a class="headerlink" href="#cerrando-el-componente" title="Permanent link">¶</a></h3>
<p>Cada vez que se hace un nuevo <code>deploy</code> de los flujos, todos los componentes se borran. Luego es importante que si nuestro
componente almacena algún estado / conexión / event listener, sea removido antes de borrar el componente. Para esto hay
que usar otra función <code>listener</code> para el evento <code>close</code>. Dependiendo de como funcione el nodo, esta función tiene más
o menos parametros:</p>
<ul>
<li>Nodo síncrono: No tiene ningun parámetro</li>
<li>Nodo síncrono: Tiene como parámetro la función <code>done</code></li>
<li>Nodo síncrono desde Node-Red 0.17: Tiene como parámetros una variable booleana que indica si ha sido deshabilitado ya o no y la función <code>done</code> de antes.</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio"><input id="__tabbed_8_2" name="__tabbed_8" type="radio"><input id="__tabbed_8_3" name="__tabbed_8" type="radio"><div class="tabbed-labels"><label for="__tabbed_8_1">Nodo síncrono</label><label for="__tabbed_8_2">Nodo asíncrono</label><label for="__tabbed_8_3">Nodo asíncrono desde Node-Red 0.17</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><a href="#__codelineno-38-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'close'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a><a href="#__codelineno-38-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="c1">// tidy up any state</span><span class="w"></span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><a href="#__codelineno-38-3"><span class="linenos" data-linenos="3 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><a href="#__codelineno-39-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'close'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><a href="#__codelineno-39-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">doSomethingWithACallback</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><a href="#__codelineno-39-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="nx">done</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><a href="#__codelineno-39-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><a href="#__codelineno-39-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><a href="#__codelineno-40-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'close'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">removed</span><span class="p">,</span><span class="w"> </span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><a href="#__codelineno-40-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">removed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><a href="#__codelineno-40-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// This node has been disabled/deleted</span><span class="w"></span>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a><a href="#__codelineno-40-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><a href="#__codelineno-40-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">        </span><span class="c1">// This node is being restarted</span><span class="w"></span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><a href="#__codelineno-40-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><a href="#__codelineno-40-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="nx">done</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-40-8" name="__codelineno-40-8"></a><a href="#__codelineno-40-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</input></input></input></div>
<details class="warning" open="open">
<summary>OJO con los componentes asíncronos</summary>
<p>Si el <strong>componente</strong> es <strong>asíncrono</strong> y no se llama a la función <code>done</code> hay <strong>problemas</strong>:</p>
<ul>
<li><strong>Antiguamente esperaba 15 segundos</strong>, y si no se había llamado, se lanzaba el error y se <strong>reiniciaba el flujo</strong>.</li>
<li><strong>Ahora</strong> se queda <strong>esperando indefinidamente</strong>, lo que <strong>bloquearía</strong> todo tu <strong>Node-Red</strong>.</li>
</ul>
</details>
<h2 id="packagejson">package.json<a class="headerlink" href="#packagejson" title="Permanent link">¶</a></h2>
<p>Antes se publicaban los paquetes como <code>node-red-contrib-&lt;paquete&gt;</code>. Pero ahora debe ser <code>@&lt;scope&gt;/&lt;paquete&gt;</code>
o en su defecto <code>@&lt;scope&gt;/node-red-&lt;paquete&gt;</code>:</p>
<ul>
<li><code>@&lt;scope&gt;</code> el usuario / organizacion / grupo con el que se va a publicar el paquete.</li>
<li><code>&lt;paquete&gt;</code> es el nombre del paquete.</li>
</ul>
<p>El fichero <code>package.json</code> está en la parte más alta del repositorio y se trabaja con él como con cualquier paquete npm.
Lo que hay que tener en cuenta para definir los componentes es que se tiene que añadir el apartado <code>"node-red"</code>:</p>
<ul>
<li><code>"version"</code>: Indica la versión mínima de Node-Red que soportan los componentes</li>
<li><code>"nodes"</code>: Indica los componentes que hay en el paquete y se apunta al fichero <code>.js</code> del componente.</li>
</ul>
<div class="highlight"><span class="filename">package.json</span><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><a href="#__codelineno-41-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><a href="#__codelineno-41-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nt">"name"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"@&lt;scope&gt;/node-red-&lt;paquete&gt;"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><a href="#__codelineno-41-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="nt">"version"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.1"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><a href="#__codelineno-41-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="nt">"description"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"A sample node for node-red"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><a href="#__codelineno-41-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><a href="#__codelineno-41-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="nt">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><a href="#__codelineno-41-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="s2">"node-red"</span><span class="w"></span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><a href="#__codelineno-41-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="p">],</span><span class="w"></span>
<a id="__codelineno-41-9" name="__codelineno-41-9"></a><a href="#__codelineno-41-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="nt">"node-red"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-41-10" name="__codelineno-41-10"></a><a href="#__codelineno-41-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">        </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=2.0.0"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-41-11" name="__codelineno-41-11"></a><a href="#__codelineno-41-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="nt">"nodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-41-12" name="__codelineno-41-12"></a><a href="#__codelineno-41-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">            </span><span class="nt">"component-name1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"src/component-name1/component-name1.js"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-41-13" name="__codelineno-41-13"></a><a href="#__codelineno-41-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">            </span><span class="nt">"component-name2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"src/component-name2/component-name2.js"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-41-14" name="__codelineno-41-14"></a><a href="#__codelineno-41-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">            </span><span class="err">...</span><span class="w"></span>
<a id="__codelineno-41-15" name="__codelineno-41-15"></a><a href="#__codelineno-41-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-41-16" name="__codelineno-41-16"></a><a href="#__codelineno-41-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-41-17" name="__codelineno-41-17"></a><a href="#__codelineno-41-17"><span class="linenos" data-linenos="17 "></span></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h2 id="propiedades-del-nodo">Propiedades del Nodo<a class="headerlink" href="#propiedades-del-nodo" title="Permanent link">¶</a></h2>
<p>Las propiedades de un nodo se definen de la forma siguiente:</p>
<ol>
<li>
<p>Fichero HTML -&gt; Definition -&gt; <code>defaults</code> -&gt; Se indican las propiedades que tiene el node (valor por defecto, tipo, etc).</p>
<div class="highlight"><span class="filename">Fichero HTML - Definition</span><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><a href="#__codelineno-42-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">defaults</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><a href="#__codelineno-42-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><a href="#__codelineno-42-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nx">prefix</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-42-4" name="__codelineno-42-4"></a><a href="#__codelineno-42-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">},</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>Fichero HTML -&gt; Edit Dialog -&gt; Se crean los componentes HTML con el <code>id="node-input-&lt;property&gt;"</code> para poder configurar cada una de las propiedades.</p>
<div class="highlight"><span class="filename">Fichero HTML - Edit Dialog</span><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><a href="#__codelineno-43-1"><span class="linenos" data-linenos="1 "></span></a> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-row"</span><span class="p">&gt;</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><a href="#__codelineno-43-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"node-input-prefix"</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">"fa fa-tag"</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span> Prefix<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><a href="#__codelineno-43-3"><span class="linenos" data-linenos="3 "></span></a>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-prefix"</span><span class="p">&gt;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><a href="#__codelineno-43-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
</li>
<li>
<p>Fichero JS -&gt; En el parámetro de entrada de la función (en los ejemplos <code>config</code>), ese es el objeto con las propiedades ya configuradas por el usuario en el <strong>Edit Dialog</strong>.</p>
<div class="highlight"><span class="filename">Fichero JS</span><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><a href="#__codelineno-44-1"><span class="linenos" data-linenos="1 "></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">ExampleNode</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><a href="#__codelineno-44-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">createNode</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a><a href="#__codelineno-44-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">prefix</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a><a href="#__codelineno-44-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><a href="#__codelineno-44-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'input'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-44-6" name="__codelineno-44-6"></a><a href="#__codelineno-44-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">        </span><span class="nx">msg</span><span class="p">.</span><span class="nx">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">node</span><span class="p">.</span><span class="nx">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">msg</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-44-7" name="__codelineno-44-7"></a><a href="#__codelineno-44-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">        </span><span class="nx">node</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-44-8" name="__codelineno-44-8"></a><a href="#__codelineno-44-8"><span class="linenos" data-linenos="8 "></span></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-44-9" name="__codelineno-44-9"></a><a href="#__codelineno-44-9"><span class="linenos" data-linenos="9 "></span></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</li>
</ol>
<h3 id="propiedades-en-el-fichero-html-definition">Propiedades en el Fichero HTML - Definition<a class="headerlink" href="#propiedades-en-el-fichero-html-definition" title="Permanent link">¶</a></h3>
<p>Las propiedades configurables por el usuario se definen dentro del <code>defaults</code>. Hay algunas que estan reservadas y no se pueden usar:</p>
<ul>
<li>Propiedades con un único carácter (Node-Red si que usa estas internamente <code>x</code>, <code>y</code>, <code>z</code>, <code>d</code>, <code>g</code>, <code>l</code>)</li>
<li>Palabras reservadas <code>id</code>, <code>type</code>, <code>wires</code>, <code>inputs</code>.</li>
<li>La palabra <code>outputs</code> es reservada, pero si se pone permite que el usuario pueda editar el número de salidas</li>
</ul>
<p>Cada una de estas propiedades dentro del <code>defaults</code> es un objeto con las siguientes propiedades:</p>
<table>
<thead>
<tr>
<th align="left">Propiedad</th>
<th align="center">Tipo</th>
<th align="center">Opcional</th>
<th align="left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>value</code></td>
<td align="center"><code>any</code></td>
<td align="center"></td>
<td align="left">Valor por defecto</td>
</tr>
<tr>
<td align="left"><code>required</code></td>
<td align="center"><code>boolean</code></td>
<td align="center">x</td>
<td align="left">Si el parámetro es obligatorio (<code>false</code> por defecto)</td>
</tr>
<tr>
<td align="left"><code>validate</code></td>
<td align="center"><code>function</code></td>
<td align="center">x</td>
<td align="left">Función para validar que el valor es correcto (Node-Red por defecto tiene varias como <code>RED.validators.number()</code> o <code>RED.validators.regex()</code>)</td>
</tr>
<tr>
<td align="left"><code>type</code></td>
<td align="center"><code>string</code></td>
<td align="center">x</td>
<td align="left">Si necesita usar un nodo de tipo configuración para funcionar, hay que especificar aquí el identificador</td>
</tr>
</tbody>
</table>
<p>Para validar las propiedades , aparte del <code>required</code>, existe el campo <code>validate</code>. Este permite pasar un una función que
devuelva un boolean para validar que se cumpla que el dato sea como tiene que ser.</p>
<p>Node-Red por defecto te da dos (hay otra extra, pero ese no hace falta usarlo, es para los <code>TypedInput</code>)</p>
<ul>
<li><code>RED.validators.number()</code> comprueba que el valor de la propiedad sea un número.</li>
<li><code>RED.validators.regex()</code> comprueba que el valor cumpla una expresión regular.</li>
</ul>
<p>Un ejemplo podría ser este</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><a href="#__codelineno-45-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">defaults</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><a href="#__codelineno-45-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">minimumLength</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><a href="#__codelineno-45-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><a href="#__codelineno-45-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="nx">validate</span><span class="o">:</span><span class="w"> </span><span class="nx">RED</span><span class="p">.</span><span class="nx">validators</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><a href="#__codelineno-45-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><a href="#__codelineno-45-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="nx">lowerCaseOnly</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><a href="#__codelineno-45-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><a href="#__codelineno-45-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="nx">validate</span><span class="o">:</span><span class="w"> </span><span class="nx">RED</span><span class="p">.</span><span class="nx">validators</span><span class="p">.</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/[a-z]+/</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><a href="#__codelineno-45-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><a href="#__codelineno-45-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="nx">custom</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-45-11" name="__codelineno-45-11"></a><a href="#__codelineno-45-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-45-12" name="__codelineno-45-12"></a><a href="#__codelineno-45-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">        </span><span class="nx">validate</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-45-13" name="__codelineno-45-13"></a><a href="#__codelineno-45-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">minimumLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s2">"#node-input-minimumLength"</span><span class="p">).</span><span class="nx">length</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s2">"#node-input-minimumLength"</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">minimumLength</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-45-14" name="__codelineno-45-14"></a><a href="#__codelineno-45-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">minimumLength</span><span class="w"></span>
<a id="__codelineno-45-15" name="__codelineno-45-15"></a><a href="#__codelineno-45-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-45-16" name="__codelineno-45-16"></a><a href="#__codelineno-45-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-45-17" name="__codelineno-45-17"></a><a href="#__codelineno-45-17"><span class="linenos" data-linenos="17 "></span></a><span class="p">},</span><span class="w"></span>
</code></pre></div>
<p>Las demás propiedades que no van en <code>defaults</code> son para definir como es el componente. Aunque si se necesita modificar el
comportamiento por defecto, también se puede customizar usando las propiedades. Estas son propiedades de tipo función,
donde se les pasa una función para que sea ejecutada en cierto momento.</p>
<ul>
<li><code>oneditprepare</code>: Es llamada inmediatamente antes de renderizar / mostrar el <strong>Edit Dialog</strong>.</li>
<li><code>oneditsave</code>:  Es llamada después de darle a <code>Done</code> (guardar) en el <strong>Edit Dialog</strong>.</li>
<li><code>oneditcancel</code>: Es llamada después de darle a <code>Cancel</code> (cancelar) en el <strong>Edit Dialog</strong>.</li>
<li><code>oneditdelete</code>: Es llamada después de darle a <code>Delete</code> (borrar) en el <strong>Edit Dialog</strong>.</li>
<li><code>oneditresize</code>: Es llamada cuando se redimensiona el <strong>Edit Dialog</strong>.</li>
</ul>
<p>Puedes comprobar los campos, añadir opciones al UI del Edit Dialog, etc. Un ejemplo es el módulo <code>Inject</code> que cambia la UI
cuando le das algún tipo de frecuencia a la inyección. Puedes mirar el código para ver como usa estas funciones:</p>
<ul>
<li><code>oneditprepare</code> -&gt; <a href="https://github.com/node-red/node-red/blob/fe3626035c9423fa651d905bd0a6aaa0fb5959da/packages/node_modules/%40node-red/nodes/core/common/20-inject.html#L373C13-L373C13">código</a></li>
<li><code>oneditsave</code> -&gt; <a href="https://github.com/node-red/node-red/blob/fe3626035c9423fa651d905bd0a6aaa0fb5959da/packages/node_modules/%40node-red/nodes/core/common/20-inject.html#L607C9-L607C9">código</a></li>
</ul>
<h3 id="propiedades-en-el-fichero-html-edit-dialog">Propiedades en el Fichero HTML - Edit Dialog<a class="headerlink" href="#propiedades-en-el-fichero-html-edit-dialog" title="Permanent link">¶</a></h3>
<p>Cuando se abre el <strong>Edit Dialog</strong>, el editor busca que haya por cada elemento del <code>defaults</code>, un <code>&lt;input&gt;</code> que contenga un
<code>id</code>:</p>
<ul>
<li><code>id="node-input-&lt;property&gt;"</code> para propiedades normales.</li>
<li><code>id="node-input-config-property&gt;"</code> para propiedades que corresponden a nodos de tipo configuración.</li>
</ul>
<p>Cada uno de estos <code>&lt;input&gt;</code> son configurados al valor por defecto que tienen en el <code>defaults</code>.</p>
<h3 id="propiedades-en-el-fichero-js">Propiedades en el Fichero JS<a class="headerlink" href="#propiedades-en-el-fichero-js" title="Permanent link">¶</a></h3>
<p>Cada componente en el Fichero JS recibe un parámetro de entrada, normalmente se llama <code>config</code> en la docu oficial. Esto es así
porque realmente lo es. Esa configuración es un objeto que contiene las propiedades mencionadas en el <code>defaults</code> de la Definition
y configuradas en el Edit Dialog.</p>
<h3 id="propiedades-en-el-settingsjs">Propiedades en el settings.js<a class="headerlink" href="#propiedades-en-el-settingsjs" title="Permanent link">¶</a></h3>
<p>También se pueden exponer propiedades del nodo en el <code>settings.js</code> pero para eso se necesita que se sigan unas reglas:</p>
<ul>
<li>El nodo debe de no requerir que el usuario lo configure -&gt; Luego tiene que tener un valor por defecto.</li>
<li>El nombre de la propiedad en el <code>settings.js</code> debe tener como prefijo el identificador del nodo.</li>
<li>El nombre debe ir en camelCase.</li>
</ul>
<p>Ejemplo fácil:</p>
<ul>
<li>En mi nodo <code>sample-node</code> quiero poder editar la propiedad <code>colour</code>.</li>
<li>En el <code>settings.js</code> tengo que definir la propiedad como <code>sampleNodeColour</code>.</li>
<li>Ahora el runtime puede referenciar a esta propiedad como <code>RED.settings.sampleNodeColour</code></li>
</ul>
<p>Estas propiedades del <code>settings.js</code> también se pueden exponer para el usuario. Para ello hay que registrarlas en el <strong>Fichero JS</strong>.</p>
<p>En el <code>RED.nodes.registerType()</code> hay que pasar un tercer parámetro. Este es un objeto que contiene otro objeto <code>settings</code>, donde
se le pasa cada propiedad con el nombre del <code>settings.js</code> y dentro contiene un objeto con las propiedades</p>
<ul>
<li><code>value</code>: Valor por defecto de la propiedad</li>
<li><code>exportable</code>: Tiene que estar fijada a <code>true</code> para decirle al runtime que es editable desde el editor.</li>
</ul>
<p>Siguiendo con el ejemplo anterior, en el <strong>Fichero JS</strong> habría que añadir esto:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><a href="#__codelineno-46-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s2">"sample"</span><span class="p">,</span><span class="w"> </span><span class="nx">SampleNode</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><a href="#__codelineno-46-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">settings</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a><a href="#__codelineno-46-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="nx">sampleNodeColour</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><a href="#__codelineno-46-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">            </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><a href="#__codelineno-46-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">            </span><span class="nx">exportable</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a><a href="#__codelineno-46-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-46-7" name="__codelineno-46-7"></a><a href="#__codelineno-46-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-46-8" name="__codelineno-46-8"></a><a href="#__codelineno-46-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
<p>Ahora <code>RED.settings.sampleNodeColour</code> también será accesible desde el editor.</p>
<h3 id="credenciales">Credenciales<a class="headerlink" href="#credenciales" title="Permanent link">¶</a></h3>
<p>Hay un tipo especial de propiedades que son las <code>credentials</code>. Estas normalmente se usan para algún tipo de conexión, así que
se almacenan a parte del main Flow y no se pueden exportar desde el editor. Por eso en el <strong>Definition</strong> del <strong>Fichero HTML</strong> no
van dentro del <code>defaults</code> y tienen su propio campo.</p>
<p>Para definirlas hay que seguir estos 3 pasos:</p>
<ol>
<li>
<p><strong>Fichero HTML</strong> -&gt; <strong>Definition</strong> -&gt; <code>credentials</code>: las entradas solo pueden tener un type de tipo <code>text</code> o <code>password</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><a href="#__codelineno-47-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a><a href="#__codelineno-47-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><a href="#__codelineno-47-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><a href="#__codelineno-47-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">credentials</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><a href="#__codelineno-47-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">            </span><span class="nx">username</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a><a href="#__codelineno-47-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">            </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a><a href="#__codelineno-47-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><a href="#__codelineno-47-8"><span class="linenos" data-linenos="8 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-47-9" name="__codelineno-47-9"></a><a href="#__codelineno-47-9"><span class="linenos" data-linenos="9 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</li>
<li>
<p><strong>Fichero HTML</strong> -&gt; <strong>Edit Dialog</strong>: Usar el mismo convenio que para las propiedades dentro del <code>defaults</code>, es decir, <code>node-input-&lt;property&gt;</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a><a href="#__codelineno-48-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-row"</span><span class="p">&gt;</span>
<a id="__codelineno-48-2" name="__codelineno-48-2"></a><a href="#__codelineno-48-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"node-input-username"</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">"fa fa-tag"</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span> Username<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a id="__codelineno-48-3" name="__codelineno-48-3"></a><a href="#__codelineno-48-3"><span class="linenos" data-linenos="3 "></span></a>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-username"</span><span class="p">&gt;</span>
<a id="__codelineno-48-4" name="__codelineno-48-4"></a><a href="#__codelineno-48-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a id="__codelineno-48-5" name="__codelineno-48-5"></a><a href="#__codelineno-48-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-row"</span><span class="p">&gt;</span>
<a id="__codelineno-48-6" name="__codelineno-48-6"></a><a href="#__codelineno-48-6"><span class="linenos" data-linenos="6 "></span></a>    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"node-input-password"</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">"fa fa-tag"</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span> Password<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a id="__codelineno-48-7" name="__codelineno-48-7"></a><a href="#__codelineno-48-7"><span class="linenos" data-linenos="7 "></span></a>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"password"</span> <span class="na">id</span><span class="o">=</span><span class="s">"node-input-password"</span><span class="p">&gt;</span>
<a id="__codelineno-48-8" name="__codelineno-48-8"></a><a href="#__codelineno-48-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
</li>
<li>
<p><strong>Fichero JS</strong> -&gt; <code>RED.nodes.registerType()</code>: En el tercer parámetro, igual que en las propiedades el <code>settings.js</code>, añade un apartado para <code>credentials</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><a href="#__codelineno-49-1"><span class="linenos" data-linenos="1 "></span></a><span class="w"> </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s2">"my-node"</span><span class="p">,</span><span class="w"> </span><span class="nx">MyNode</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><a href="#__codelineno-49-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">settings</span><span class="o">:</span><span class="w"> </span><span class="p">{...},</span><span class="w"></span>
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><a href="#__codelineno-49-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nx">credentials</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-49-4" name="__codelineno-49-4"></a><a href="#__codelineno-49-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">username</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><a href="#__codelineno-49-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">        </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-49-6" name="__codelineno-49-6"></a><a href="#__codelineno-49-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-49-7" name="__codelineno-49-7"></a><a href="#__codelineno-49-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
</li>
</ol>
<p>Con las credenciales se puede trabajar desde el runtime (la lógica dentro del <strong>Fichero JS</strong>). Una vez cargado el objeto del nodo,
se puede acceder directamente con la propiedad <code>credentials</code>. En este ejemplo se puede ver bien.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><a href="#__codelineno-50-1"><span class="linenos" data-linenos="1 "></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">MyNode</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-50-2" name="__codelineno-50-2"></a><a href="#__codelineno-50-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">createNode</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">config</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-50-3" name="__codelineno-50-3"></a><a href="#__codelineno-50-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-50-4" name="__codelineno-50-4"></a><a href="#__codelineno-50-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">node</span><span class="p">.</span><span class="nx">credentials</span><span class="p">.</span><span class="nx">username</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-50-5" name="__codelineno-50-5"></a><a href="#__codelineno-50-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">node</span><span class="p">.</span><span class="nx">credentials</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-50-6" name="__codelineno-50-6"></a><a href="#__codelineno-50-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="c1">// ...</span><span class="w"></span>
<a id="__codelineno-50-7" name="__codelineno-50-7"></a><a href="#__codelineno-50-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Con el editor (las secciones del <strong>Fichero HTML</strong>), el nodo tiene restringido el acceso a las credenciales.
Las credenciales de tipo <code>text</code> si se pueden leer como en el runtime, pero las de tipo <code>password</code> no.
En su lugar hay que usar la propiedad <code>has_&lt;property&gt;</code> para saber si está vacía o no</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><a href="#__codelineno-51-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><a href="#__codelineno-51-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-51-3" name="__codelineno-51-3"></a><a href="#__codelineno-51-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-51-4" name="__codelineno-51-4"></a><a href="#__codelineno-51-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="nx">credentials</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-51-5" name="__codelineno-51-5"></a><a href="#__codelineno-51-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">            </span><span class="nx">username</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-51-6" name="__codelineno-51-6"></a><a href="#__codelineno-51-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">            </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-51-7" name="__codelineno-51-7"></a><a href="#__codelineno-51-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-51-8" name="__codelineno-51-8"></a><a href="#__codelineno-51-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="c1">// ...</span><span class="w"></span>
<a id="__codelineno-51-9" name="__codelineno-51-9"></a><a href="#__codelineno-51-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="nx">oneditprepare</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-51-10" name="__codelineno-51-10"></a><a href="#__codelineno-51-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="c1">// this.credentials.username     -&gt; available</span><span class="w"></span>
<a id="__codelineno-51-11" name="__codelineno-51-11"></a><a href="#__codelineno-51-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">            </span><span class="c1">// this.credentials.has_password -&gt; available</span><span class="w"></span>
<a id="__codelineno-51-12" name="__codelineno-51-12"></a><a href="#__codelineno-51-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">            </span><span class="c1">// this.credentials.password     -&gt; NO available</span><span class="w"></span>
<a id="__codelineno-51-13" name="__codelineno-51-13"></a><a href="#__codelineno-51-13"><span class="linenos" data-linenos="13 "></span></a>
<a id="__codelineno-51-14" name="__codelineno-51-14"></a><a href="#__codelineno-51-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-51-15" name="__codelineno-51-15"></a><a href="#__codelineno-51-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-51-16" name="__codelineno-51-16"></a><a href="#__codelineno-51-16"><span class="linenos" data-linenos="16 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>Por último, hay usos avanzados de las credenciales, que implica no solo guardar el típico user-password.
Sino también tokens recibidos por el servidor y demás. Un nodo que explota este uso avanzando de las credenciales
es el node de Twitter.</p>
<h2 id="nodos-de-configuracion">Nodos de Configuración<a class="headerlink" href="#nodos-de-configuracion" title="Permanent link">¶</a></h2>
<p>Los nodos de configuración son nodos que normalmente se usan para mantener conexiones con distintos servicios,
como por ejemplo una conexión TCP, MQTT, WebSocket, etc. Y luego este nodo de configuración que
mantiene la conexión es consumido por otros nodos.</p>
<div class="admonition danger">
<p class="admonition-title">Cuidado</p>
<p>Si tu nodo de configuración gestiona una conexión, por especial atención el evento <code>close</code>, para cerrar la conexión
ante futuros deploys.</p>
</div>
<p>Para definir un nodo como configuración es todo igual que los demas nodos, excepto:</p>
<ol>
<li><strong>Fichero HTML</strong> - <strong>Definition</strong> - <code>category</code>: Tiene que ser <code>config</code>.</li>
<li><strong>Fichero HTM**L - **Edit Dialog</strong>: Cada propiedad tiene que ser nombrada como <code>node-config-input-&lt;property&gt;</code></li>
</ol>
<p>Luego para ser consumido por otro nodo, en el <strong>Definition</strong> se crea una propiedad pero poniendo en el <code>type</code> que sea el identificador del
nodo de configuración. Esto hará que en el Edit Dialog transforme el <code>input</code> en un <code>select</code> para poder elegir y/o editar el módulo de configuración.
Por último desde el <strong>Fichero JS</strong> se instancia con <code>RED.nodes.getNode(config.&lt;property&gt;)</code>.</p>
<p>Con un ejemplo se ve todo mejor. En el siguiente ejemplo se va a crear un componente <code>remote-server</code> que solo almacena
configuración, no tiene ninguna lógica</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio"><input id="__tabbed_9_2" name="__tabbed_9" type="radio"><div class="tabbed-labels"><label for="__tabbed_9_1">remote-server.html</label><label for="__tabbed_9_2">remote-server.js</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><a href="#__codelineno-52-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="cm">&lt;!-- Definition --&gt;</span>
<a id="__codelineno-52-2" name="__codelineno-52-2"></a><a href="#__codelineno-52-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-52-3" name="__codelineno-52-3"></a><a href="#__codelineno-52-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'remote-server'</span><span class="p">,{</span><span class="w"></span>
<a id="__codelineno-52-4" name="__codelineno-52-4"></a><a href="#__codelineno-52-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="nx">category</span><span class="o">:</span><span class="w"> </span><span class="s1">'config'</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-52-5" name="__codelineno-52-5"></a><a href="#__codelineno-52-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">        </span><span class="nx">defaults</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-52-6" name="__codelineno-52-6"></a><a href="#__codelineno-52-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">            </span><span class="nx">host</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-52-7" name="__codelineno-52-7"></a><a href="#__codelineno-52-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">                </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">"localhost"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-52-8" name="__codelineno-52-8"></a><a href="#__codelineno-52-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<a id="__codelineno-52-9" name="__codelineno-52-9"></a><a href="#__codelineno-52-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-52-10" name="__codelineno-52-10"></a><a href="#__codelineno-52-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="nx">port</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-52-11" name="__codelineno-52-11"></a><a href="#__codelineno-52-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">                </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="mf">1234</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-52-12" name="__codelineno-52-12"></a><a href="#__codelineno-52-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-52-13" name="__codelineno-52-13"></a><a href="#__codelineno-52-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">                </span><span class="nx">validate</span><span class="o">:</span><span class="w"> </span><span class="nx">RED</span><span class="p">.</span><span class="nx">validators</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-52-14" name="__codelineno-52-14"></a><a href="#__codelineno-52-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-52-15" name="__codelineno-52-15"></a><a href="#__codelineno-52-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-52-16" name="__codelineno-52-16"></a><a href="#__codelineno-52-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">        </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-52-17" name="__codelineno-52-17"></a><a href="#__codelineno-52-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">host</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">":"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">port</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-18" name="__codelineno-52-18"></a><a href="#__codelineno-52-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-52-19" name="__codelineno-52-19"></a><a href="#__codelineno-52-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-52-20" name="__codelineno-52-20"></a><a href="#__codelineno-52-20"><span class="linenos" data-linenos="20 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="__codelineno-52-21" name="__codelineno-52-21"></a><a href="#__codelineno-52-21"><span class="linenos" data-linenos="21 "></span></a><span class="cm">&lt;!-- Edit Dialog --&gt;</span>
<a id="__codelineno-52-22" name="__codelineno-52-22"></a><a href="#__codelineno-52-22"><span class="linenos" data-linenos="22 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span> <span class="na">data-template-name</span><span class="o">=</span><span class="s">"remote-server"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-52-23" name="__codelineno-52-23"></a><a href="#__codelineno-52-23"><span class="linenos" data-linenos="23 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"form-row"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-52-24" name="__codelineno-52-24"></a><a href="#__codelineno-52-24"><span class="linenos" data-linenos="24 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="k">for</span><span class="o">=</span><span class="s2">"node-config-input-host"</span><span class="o">&gt;&lt;</span><span class="nx">i</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"fa fa-bookmark"</span><span class="o">&gt;&lt;</span><span class="err">/i&gt; Host&lt;/label&gt;</span><span class="w"></span>
<a id="__codelineno-52-25" name="__codelineno-52-25"></a><a href="#__codelineno-52-25"><span class="linenos" data-linenos="25 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s2">"text"</span><span class="w"> </span><span class="nx">id</span><span class="o">=</span><span class="s2">"node-config-input-host"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-52-26" name="__codelineno-52-26"></a><a href="#__codelineno-52-26"><span class="linenos" data-linenos="26 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span><span class="w"></span>
<a id="__codelineno-52-27" name="__codelineno-52-27"></a><a href="#__codelineno-52-27"><span class="linenos" data-linenos="27 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"form-row"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-52-28" name="__codelineno-52-28"></a><a href="#__codelineno-52-28"><span class="linenos" data-linenos="28 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="k">for</span><span class="o">=</span><span class="s2">"node-config-input-port"</span><span class="o">&gt;&lt;</span><span class="nx">i</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"fa fa-bookmark"</span><span class="o">&gt;&lt;</span><span class="err">/i&gt; Port&lt;/label&gt;</span><span class="w"></span>
<a id="__codelineno-52-29" name="__codelineno-52-29"></a><a href="#__codelineno-52-29"><span class="linenos" data-linenos="29 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s2">"text"</span><span class="w"> </span><span class="nx">id</span><span class="o">=</span><span class="s2">"node-config-input-port"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-52-30" name="__codelineno-52-30"></a><a href="#__codelineno-52-30"><span class="linenos" data-linenos="30 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span><span class="w"></span>
<a id="__codelineno-52-31" name="__codelineno-52-31"></a><a href="#__codelineno-52-31"><span class="linenos" data-linenos="31 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><a href="#__codelineno-53-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a><a href="#__codelineno-53-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">RemoteServerNode</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-53-3" name="__codelineno-53-3"></a><a href="#__codelineno-53-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">createNode</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-53-4" name="__codelineno-53-4"></a><a href="#__codelineno-53-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-53-5" name="__codelineno-53-5"></a><a href="#__codelineno-53-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-53-6" name="__codelineno-53-6"></a><a href="#__codelineno-53-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">        </span><span class="nx">node</span><span class="p">.</span><span class="nx">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">n</span><span class="p">.</span><span class="nx">host</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-53-7" name="__codelineno-53-7"></a><a href="#__codelineno-53-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="nx">node</span><span class="p">.</span><span class="nx">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">n</span><span class="p">.</span><span class="nx">port</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-53-8" name="__codelineno-53-8"></a><a href="#__codelineno-53-8"><span class="linenos" data-linenos=" 8 "></span></a>
<a id="__codelineno-53-9" name="__codelineno-53-9"></a><a href="#__codelineno-53-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'close'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-53-10" name="__codelineno-53-10"></a><a href="#__codelineno-53-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="nx">node</span><span class="p">.</span><span class="nx">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-53-11" name="__codelineno-53-11"></a><a href="#__codelineno-53-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">            </span><span class="nx">node</span><span class="p">.</span><span class="nx">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-53-12" name="__codelineno-53-12"></a><a href="#__codelineno-53-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">        </span><span class="p">})</span><span class="w"> </span>
<a id="__codelineno-53-13" name="__codelineno-53-13"></a><a href="#__codelineno-53-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-53-14" name="__codelineno-53-14"></a><a href="#__codelineno-53-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s2">"remote-server"</span><span class="p">,</span><span class="w"> </span><span class="nx">RemoteServerNode</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-53-15" name="__codelineno-53-15"></a><a href="#__codelineno-53-15"><span class="linenos" data-linenos="15 "></span></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</input></input></div>
<p>Ahora para poder consumir el módulo desde otro módulo</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio"><input id="__tabbed_10_2" name="__tabbed_10" type="radio"/><div class="tabbed-labels"><label for="__tabbed_10_1">Fichero HTML</label><label for="__tabbed_10_2">Fichero JS</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a><a href="#__codelineno-54-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="cm">&lt;!-- Definition --&gt;</span>
<a id="__codelineno-54-2" name="__codelineno-54-2"></a><a href="#__codelineno-54-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-54-3" name="__codelineno-54-3"></a><a href="#__codelineno-54-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'another-component'</span><span class="p">,{</span><span class="w"></span>
<a id="__codelineno-54-4" name="__codelineno-54-4"></a><a href="#__codelineno-54-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="nx">defaults</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-54-5" name="__codelineno-54-5"></a><a href="#__codelineno-54-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">            </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-54-6" name="__codelineno-54-6"></a><a href="#__codelineno-54-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">                </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-54-7" name="__codelineno-54-7"></a><a href="#__codelineno-54-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">                </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"remote-server"</span><span class="w"></span>
<a id="__codelineno-54-8" name="__codelineno-54-8"></a><a href="#__codelineno-54-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-54-9" name="__codelineno-54-9"></a><a href="#__codelineno-54-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-54-10" name="__codelineno-54-10"></a><a href="#__codelineno-54-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-54-11" name="__codelineno-54-11"></a><a href="#__codelineno-54-11"><span class="linenos" data-linenos="11 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="__codelineno-54-12" name="__codelineno-54-12"></a><a href="#__codelineno-54-12"><span class="linenos" data-linenos="12 "></span></a><span class="cm">&lt;!-- Edit Dialog --&gt;</span>
<a id="__codelineno-54-13" name="__codelineno-54-13"></a><a href="#__codelineno-54-13"><span class="linenos" data-linenos="13 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span> <span class="na">data-template-name</span><span class="o">=</span><span class="s">"another-component"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-54-14" name="__codelineno-54-14"></a><a href="#__codelineno-54-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">"form-row"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-54-15" name="__codelineno-54-15"></a><a href="#__codelineno-54-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="k">for</span><span class="o">=</span><span class="s2">"node-input-server"</span><span class="o">&gt;</span><span class="nx">Server</span><span class="o">&lt;</span><span class="err">/label&gt;</span><span class="w"></span>
<a id="__codelineno-54-16" name="__codelineno-54-16"></a><a href="#__codelineno-54-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s2">"text"</span><span class="w"> </span><span class="nx">id</span><span class="o">=</span><span class="s2">"node-input-server"</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-54-17" name="__codelineno-54-17"></a><a href="#__codelineno-54-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span><span class="w"></span>
<a id="__codelineno-54-18" name="__codelineno-54-18"></a><a href="#__codelineno-54-18"><span class="linenos" data-linenos="18 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><a href="#__codelineno-55-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a><a href="#__codelineno-55-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">AnotherComponent</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><a href="#__codelineno-55-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">createNode</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">config</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><a href="#__codelineno-55-4"><span class="linenos" data-linenos=" 4 "></span></a>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a><a href="#__codelineno-55-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><a href="#__codelineno-55-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><a href="#__codelineno-55-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="c1">// Retrieve the config node</span><span class="w"></span>
<a id="__codelineno-55-8" name="__codelineno-55-8"></a><a href="#__codelineno-55-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="nx">node</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">getNode</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">server</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-55-9" name="__codelineno-55-9"></a><a href="#__codelineno-55-9"><span class="linenos" data-linenos=" 9 "></span></a>
<a id="__codelineno-55-10" name="__codelineno-55-10"></a><a href="#__codelineno-55-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">server</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-55-11" name="__codelineno-55-11"></a><a href="#__codelineno-55-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">            </span><span class="c1">// Do something with:</span><span class="w"></span>
<a id="__codelineno-55-12" name="__codelineno-55-12"></a><a href="#__codelineno-55-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">            </span><span class="c1">//  node.server.host</span><span class="w"></span>
<a id="__codelineno-55-13" name="__codelineno-55-13"></a><a href="#__codelineno-55-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">            </span><span class="c1">//  node.server.port</span><span class="w"></span>
<a id="__codelineno-55-14" name="__codelineno-55-14"></a><a href="#__codelineno-55-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-55-15" name="__codelineno-55-15"></a><a href="#__codelineno-55-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">            </span><span class="c1">// No config node configured</span><span class="w"></span>
<a id="__codelineno-55-16" name="__codelineno-55-16"></a><a href="#__codelineno-55-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-55-17" name="__codelineno-55-17"></a><a href="#__codelineno-55-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-55-18" name="__codelineno-55-18"></a><a href="#__codelineno-55-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s2">"another-component"</span><span class="p">,</span><span class="nx">MyNode</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-55-19" name="__codelineno-55-19"></a><a href="#__codelineno-55-19"><span class="linenos" data-linenos="19 "></span></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</input></div>
<h2 id="tests">Tests<a class="headerlink" href="#tests" title="Permanent link">¶</a></h2>
<div class="admonition danger">
<p class="admonition-title">NUNCA PUBLIQUES COMPONENTES SIN TESTEAR</p>
<p>Publicar un componente no es un proceso complejo, pero si requiere de ciertos
pasos que no son fáciles de revertir si algo está mal.</p>
<p>Por favor antes de publicar cualquier cosa, cerciórate bien que lo has testeado
a muerte antes:</p>
<ol>
<li>Test manuales</li>
<li>Test automatizados</li>
<li>Unit Testing</li>
<li>Integration Testing</li>
</ol>
</div>
<p>Para hacer tests manuales, lo más sencillo es instalar el propio componente (y así puedes ver como funciona).
La forma de hacerlo es con npm e indicando en que carpeta está el <code>package.json</code> del componente.
Es recomendable añadir <code>--no-save</code> si quieres que no te lo añada el <code>package.json</code> del Node-Red
con el que vayas a testear el componente.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1"></a><a href="#__codelineno-56-1"><span class="linenos" data-linenos="1 "></span></a><span class="nx">npm</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">--</span><span class="nx">no</span><span class="o">-</span><span class="nx">save</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">component</span><span class="o">-</span><span class="nx">folder</span><span class="o">-</span><span class="nx">path</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>
<p>Siempre que puedas, genera tests automáticos, ya que de los tests manuales no te puedes fiar 100%.
Es cierto que generar tests automatizados en Node-Red no es del todo sencillo. Para poder hacerlos
se recomienda usar <a href="https://www.npmjs.com/package/node-red-node-test-helper">node-red-node-test-helper</a>.</p>
<p>Este framework de tests se basa en <a href="https://mochajs.org">Mocha</a>. Para usarlo:</p>
<ol>
<li>Instala el paquete <code>npm i -D node-red-node-test-helper</code>.</li>
<li>
<p>Customiza el <code>package.json</code> y añade a los scripts que el comando <code>test</code> para que ejecute los tests
buscando en la carpeta <code>tests</code> todos los ficheros que acaben como <code>_spec.js</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1"></a><a href="#__codelineno-57-1"><span class="linenos" data-linenos="1 "></span></a><span class="err">...</span><span class="w"></span>
<a id="__codelineno-57-2" name="__codelineno-57-2"></a><a href="#__codelineno-57-2"><span class="linenos" data-linenos="2 "></span></a><span class="nt">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-57-3" name="__codelineno-57-3"></a><a href="#__codelineno-57-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="nt">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mocha \"tests/**/*_spec.js\""</span><span class="w"></span>
<a id="__codelineno-57-4" name="__codelineno-57-4"></a><a href="#__codelineno-57-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">},</span><span class="w"></span>
<a id="__codelineno-57-5" name="__codelineno-57-5"></a><a href="#__codelineno-57-5"><span class="linenos" data-linenos="5 "></span></a><span class="err">...</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>Crea la carpeta <code>tests</code> y para cada componente crea su fichero <code>&lt;component-name&gt;_spec.js</code>.</p>
</li>
</ol>
<p>A falta de documentar bien los tests, mírate bien la docu del paquete.</p>
<p>Aquí tienes un ejemplo de como testea el componente <code>lower-case</code>, que todas las inputs de tipo <code>string</code>
las pasa a minúsculas.</p>
<div class="highlight"><span class="filename">lower-case_spec.js</span><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a><a href="#__codelineno-58-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">helper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">"node-red-node-test-helper"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-2" name="__codelineno-58-2"></a><a href="#__codelineno-58-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kd">const</span><span class="w"> </span><span class="nx">lowerNode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">"../lower-case.js"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-3" name="__codelineno-58-3"></a><a href="#__codelineno-58-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-58-4" name="__codelineno-58-4"></a><a href="#__codelineno-58-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="nx">describe</span><span class="p">(</span><span class="s1">'lower-case Node'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-58-5" name="__codelineno-58-5"></a><a href="#__codelineno-58-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-58-6" name="__codelineno-58-6"></a><a href="#__codelineno-58-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">  </span><span class="nx">afterEach</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-58-7" name="__codelineno-58-7"></a><a href="#__codelineno-58-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="nx">helper</span><span class="p">.</span><span class="nx">unload</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-58-8" name="__codelineno-58-8"></a><a href="#__codelineno-58-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">  </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-58-9" name="__codelineno-58-9"></a><a href="#__codelineno-58-9"><span class="linenos" data-linenos=" 9 "></span></a>
<a id="__codelineno-58-10" name="__codelineno-58-10"></a><a href="#__codelineno-58-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">'should be loaded'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-58-11" name="__codelineno-58-11"></a><a href="#__codelineno-58-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">flow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-58-12" name="__codelineno-58-12"></a><a href="#__codelineno-58-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">"n1"</span><span class="p">,</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"lower-case"</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"test name"</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-58-13" name="__codelineno-58-13"></a><a href="#__codelineno-58-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="p">];</span><span class="w"> </span>
<a id="__codelineno-58-14" name="__codelineno-58-14"></a><a href="#__codelineno-58-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="nx">helper</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">lowerNode</span><span class="p">,</span><span class="w"> </span><span class="nx">flow</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-58-15" name="__codelineno-58-15"></a><a href="#__codelineno-58-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">n1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">helper</span><span class="p">.</span><span class="nx">getNode</span><span class="p">(</span><span class="s2">"n1"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-16" name="__codelineno-58-16"></a><a href="#__codelineno-58-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">      </span><span class="nx">n1</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span><span class="w"> </span><span class="s1">'test name'</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-17" name="__codelineno-58-17"></a><a href="#__codelineno-58-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">      </span><span class="nx">done</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-58-18" name="__codelineno-58-18"></a><a href="#__codelineno-58-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-58-19" name="__codelineno-58-19"></a><a href="#__codelineno-58-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">  </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-58-20" name="__codelineno-58-20"></a><a href="#__codelineno-58-20"><span class="linenos" data-linenos="20 "></span></a>
<a id="__codelineno-58-21" name="__codelineno-58-21"></a><a href="#__codelineno-58-21"><span class="linenos" data-linenos="21 "></span></a><span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">'should make payload lower case'</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-58-22" name="__codelineno-58-22"></a><a href="#__codelineno-58-22"><span class="linenos" data-linenos="22 "></span></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">flow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-58-23" name="__codelineno-58-23"></a><a href="#__codelineno-58-23"><span class="linenos" data-linenos="23 "></span></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">"n1"</span><span class="p">,</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"lower-case"</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"test name"</span><span class="p">,</span><span class="nx">wires</span><span class="o">:</span><span class="p">[[</span><span class="s2">"n2"</span><span class="p">]]</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-58-24" name="__codelineno-58-24"></a><a href="#__codelineno-58-24"><span class="linenos" data-linenos="24 "></span></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">"n2"</span><span class="p">,</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"helper"</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-58-25" name="__codelineno-58-25"></a><a href="#__codelineno-58-25"><span class="linenos" data-linenos="25 "></span></a><span class="w">    </span><span class="p">];</span><span class="w"></span>
<a id="__codelineno-58-26" name="__codelineno-58-26"></a><a href="#__codelineno-58-26"><span class="linenos" data-linenos="26 "></span></a><span class="w">    </span><span class="nx">helper</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">lowerNode</span><span class="p">,</span><span class="w"> </span><span class="nx">flow</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-58-27" name="__codelineno-58-27"></a><a href="#__codelineno-58-27"><span class="linenos" data-linenos="27 "></span></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">n1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">helper</span><span class="p">.</span><span class="nx">getNode</span><span class="p">(</span><span class="s2">"n1"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-28" name="__codelineno-58-28"></a><a href="#__codelineno-58-28"><span class="linenos" data-linenos="28 "></span></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">n2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">helper</span><span class="p">.</span><span class="nx">getNode</span><span class="p">(</span><span class="s2">"n2"</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-29" name="__codelineno-58-29"></a><a href="#__codelineno-58-29"><span class="linenos" data-linenos="29 "></span></a><span class="w">        </span><span class="nx">n2</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"input"</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-58-30" name="__codelineno-58-30"></a><a href="#__codelineno-58-30"><span class="linenos" data-linenos="30 "></span></a><span class="w">            </span><span class="nx">msg</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">'payload'</span><span class="p">,</span><span class="w"> </span><span class="s1">'uppercase'</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-31" name="__codelineno-58-31"></a><a href="#__codelineno-58-31"><span class="linenos" data-linenos="31 "></span></a><span class="w">            </span><span class="nx">done</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-58-32" name="__codelineno-58-32"></a><a href="#__codelineno-58-32"><span class="linenos" data-linenos="32 "></span></a><span class="w">        </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-58-33" name="__codelineno-58-33"></a><a href="#__codelineno-58-33"><span class="linenos" data-linenos="33 "></span></a><span class="w">        </span><span class="nx">n1</span><span class="p">.</span><span class="nx">receive</span><span class="p">({</span><span class="w"> </span><span class="nx">payload</span><span class="o">:</span><span class="w"> </span><span class="s2">"UpperCase"</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-58-34" name="__codelineno-58-34"></a><a href="#__codelineno-58-34"><span class="linenos" data-linenos="34 "></span></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-58-35" name="__codelineno-58-35"></a><a href="#__codelineno-58-35"><span class="linenos" data-linenos="35 "></span></a><span class="w">  </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-58-36" name="__codelineno-58-36"></a><a href="#__codelineno-58-36"><span class="linenos" data-linenos="36 "></span></a><span class="p">});</span><span class="w"></span>
</code></pre></div>
<h2 id="ejemplos">Ejemplos<a class="headerlink" href="#ejemplos" title="Permanent link">¶</a></h2>
<p>Se recomienda, a modo de documentación del propio componente, añadir al menos un ejemplo
que muestre como se trabaja con él. Así pues, un ejemplo no es más que:</p>
<ol>
<li>Coger una instancia de Node-Red</li>
<li>Instalarle solo el componente</li>
<li>Crear un flujo usándolo</li>
<li>Exportar ese flujo</li>
<li>Guardarlo en la carpeta <code>examples</code> con un nombre indicativo (como <code>example1.json</code>)</li>
</ol>
<p>No tiene mucha historia, pero se agradece mucho.</p>
<h2 id="apariencia-del-nodo">Apariencia del Nodo<a class="headerlink" href="#apariencia-del-nodo" title="Permanent link">¶</a></h2>
<p>En un componente se pueden customizar 3 cosas respecto a la apariencia:</p>
<ul>
<li>Icono</li>
<li>Color de fondo</li>
<li>Etiqueta</li>
</ul>
<p>Pero además se le pueden añadir botones, tanto a la izquierda (como en el nodo <code>Inject</code>),
como a la derecha (como en el nodo <code>Debug</code>).</p>
<h3 id="icono">Icono<a class="headerlink" href="#icono" title="Permanent link">¶</a></h3>
<p>Para especificar el icono de un componente es tan sencillo como poner</p>
<p><strong>Fichero HTML</strong> -&gt; <strong>Definition</strong> -&gt; <code>icon</code> igual a un string del icono</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a><a href="#__codelineno-59-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-59-2" name="__codelineno-59-2"></a><a href="#__codelineno-59-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-59-3" name="__codelineno-59-3"></a><a href="#__codelineno-59-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-59-4" name="__codelineno-59-4"></a><a href="#__codelineno-59-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="s2">"arrow-in"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-59-5" name="__codelineno-59-5"></a><a href="#__codelineno-59-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-59-6" name="__codelineno-59-6"></a><a href="#__codelineno-59-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>Este string puede ser:</p>
<ul>
<li>El nombre de uno de los iconos de stock que trae Node-Red (básicamente son los iconos de <a href="https://klarsys.github.io/angular-material-icons/">Angular Material</a>)<ul>
<li>Ejemplo: <code>icon: "arrow-in",</code></li>
</ul>
</li>
<li>Un icono de <a href="https://fontawesome.com/v4.7.0/icons/">Font Awesome 4.7</a><ul>
<li>Ejemplo: <code>icon: "fa-automobile",</code></li>
</ul>
</li>
<li>Un icono específico del módulo.</li>
</ul>
<figure>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../stock-icons.png"><img alt="Node-Red iconos de stock" src="../stock-icons.png"/></a>
</p>
<figcaption>Algunos iconos de stock de Node-Red</figcaption>
</figure>
<p>Para los iconos custom / específicos del módulo, Node-Red buscará la carpeta <code>icons</code> en donde se encuentre el <strong>Fichero JS</strong>.
Estos iconos deben cumplir unas normas:</p>
<ul>
<li>El nombre debe ser único, ya que Node-Red va a buscar todos los iconos y los va a agrupar juntos.</li>
<li>Deberían de tener un aspect ratio de 2:3.</li>
<li>Su tamaño mínimo debería ser 40 x 60 px.</li>
</ul>
<details class="note" open="open">
<summary>También los puede editar el usuario</summary>
<p>El usuario puede editar que icono tiene el node desde la pestaña <code>appearance</code> en el <strong>Edit Dialog</strong>.</p>
<p>Pero esto se puede bloquear para que no suceda. Para ello hay que añadir una property <code>icon</code> dentro del <code>default</code>
del <strong>Definition</strong> (<strong>Fichero HTML</strong>).</p>
<p>Un ejemplo de nodo que bloquea el icono es el <code>ui_button</code> del paquete <code>node-red-dashboard</code> -&gt; <a href="https://github.com/node-red/node-red-dashboard/blob/f4da2057c1c3e89bcab9a9e566cb70d634144e07/nodes/ui_button.html#L25C16-L25C16">código</a>.</p>
</details>
<h3 id="color-de-fondo">Color de fondo<a class="headerlink" href="#color-de-fondo" title="Permanent link">¶</a></h3>
<p>Para especificar el color de fondo de un componente es tan sencillo como poner</p>
<p><strong>Fichero HTML</strong> -&gt; <strong>Definition</strong> -&gt; <code>color</code> igual a un string RGB de color hexadecimal</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1"></a><a href="#__codelineno-60-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-60-2" name="__codelineno-60-2"></a><a href="#__codelineno-60-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-60-3" name="__codelineno-60-3"></a><a href="#__codelineno-60-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-60-4" name="__codelineno-60-4"></a><a href="#__codelineno-60-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">"#a6bbcf"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-60-5" name="__codelineno-60-5"></a><a href="#__codelineno-60-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-60-6" name="__codelineno-60-6"></a><a href="#__codelineno-60-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<figure>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../background-colors.png"><img alt="Colores típicos para los componentes" src="../background-colors.png"/></a>
</p>
<figcaption>Colores típicos usados para los componentes</figcaption>
</figure>
<h3 id="etiqueta">Etiqueta<a class="headerlink" href="#etiqueta" title="Permanent link">¶</a></h3>
<p>Para customizar las etiquetas de un componente es tan sencillo como poner</p>
<p><strong>Fichero HTML</strong> -&gt; <strong>Definition</strong> -&gt; <code>label</code>, <code>paletteLabel</code>, <code>labelStyle</code>, <code>inputLabels</code>, <code>outputLabels</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><a href="#__codelineno-61-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-61-2" name="__codelineno-61-2"></a><a href="#__codelineno-61-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-61-3" name="__codelineno-61-3"></a><a href="#__codelineno-61-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-61-4" name="__codelineno-61-4"></a><a href="#__codelineno-61-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"my name"</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-61-5" name="__codelineno-61-5"></a><a href="#__codelineno-61-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">        </span><span class="nx">paletteLabel</span><span class="o">:</span><span class="w"> </span><span class="s2">"MyName"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-6" name="__codelineno-61-6"></a><a href="#__codelineno-61-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">        </span><span class="nx">labelStyle</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">"node_label_italic"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-61-7" name="__codelineno-61-7"></a><a href="#__codelineno-61-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="nx">inputLabels</span><span class="o">:</span><span class="w"> </span><span class="s2">"input parameter"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-8" name="__codelineno-61-8"></a><a href="#__codelineno-61-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="nx">outputLabels</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"main output"</span><span class="p">,</span><span class="s2">"error output"</span><span class="p">,</span><span class="s2">"code output"</span><span class="p">],</span><span class="w"></span>
<a id="__codelineno-61-9" name="__codelineno-61-9"></a><a href="#__codelineno-61-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-61-10" name="__codelineno-61-10"></a><a href="#__codelineno-61-10"><span class="linenos" data-linenos="10 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>Todas ellas permiten definir o modificar la etiqueta, ya sea de manera estática (con un string) o
dinámica (con una función).</p>
<p>Las propiedades son:</p>
<ul>
<li><code>label</code>: Es la etiqueta del nodo.</li>
<li><code>paleteLabel</code>: Es la etiqueta del nodo en la paleta.</li>
<li><code>labelStyle</code>: Estilo CSS de la etiqueta en el nodo.</li>
<li><code>inputLabels</code>: Es la etiqueta del puerto de entrada del nodo.</li>
<li><code>outputLabel</code>: Es la etiqueta de los puertos de salida del nodo.</li>
</ul>
<h4 id="label"><code>label</code><a class="headerlink" href="#label" title="Permanent link">¶</a></h4>
<p>Es la etiqueta del nodo. Si tiene valor dinámico, la etiqueta se carga cuando el nodo se carga en el editor.
Un ejemplo sería</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1"></a><a href="#__codelineno-62-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-62-2" name="__codelineno-62-2"></a><a href="#__codelineno-62-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-62-3" name="__codelineno-62-3"></a><a href="#__codelineno-62-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-62-4" name="__codelineno-62-4"></a><a href="#__codelineno-62-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"my name"</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-62-5" name="__codelineno-62-5"></a><a href="#__codelineno-62-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-62-6" name="__codelineno-62-6"></a><a href="#__codelineno-62-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>Si no se especifica, se carga como valor por defecto el nombre del componente.
Se suele usar por convenio el nombre del nodo editado por el usuario como la etiqueta del nodo.</p>
<div class="admonition danger">
<p class="admonition-title">Nada de credenciales</p>
<p>No puedes poner como etiqueta ningún campo de las <code>credentials</code></p>
</div>
<h4 id="paletelabel"><code>paleteLabel</code><a class="headerlink" href="#paletelabel" title="Permanent link">¶</a></h4>
<p>Es la etiqueta del nodo en la paleta. Como valor por defecto tiene el mismo que <code>label</code>.
Si tiene valor dinámico, la etiqueta se carga cuando el nodo se añade a la paleta.</p>
<h4 id="labelstyle"><code>labelStyle</code><a class="headerlink" href="#labelstyle" title="Permanent link">¶</a></h4>
<p>Es el estilo CSS que tiene la etiqueta. Si no se especifica ninguna, por defecto tiene
<code>node_label</code>. Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1"></a><a href="#__codelineno-63-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-63-2" name="__codelineno-63-2"></a><a href="#__codelineno-63-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-63-3" name="__codelineno-63-3"></a><a href="#__codelineno-63-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-63-4" name="__codelineno-63-4"></a><a href="#__codelineno-63-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">labelStyle</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">"node_label_italic"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-63-5" name="__codelineno-63-5"></a><a href="#__codelineno-63-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-63-6" name="__codelineno-63-6"></a><a href="#__codelineno-63-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<h4 id="ports-labels-inputlabels-y-outputlabels">Ports labels: <code>inputLabels</code> y <code>outputLabels</code><a class="headerlink" href="#ports-labels-inputlabels-y-outputlabels" title="Permanent link">¶</a></h4>
<p>Las etiquetas de los puertos de entrada y salidas son respectivamente <code>inputLabels</code> y <code>outputLabels</code>.</p>
<p>Se pueden definir estáticamente o dinámicante. Si la salida es definida dinámicamente, la función tiene que tener
un argumento de entrada, que será el índice de cada entrada empezando por <code>0</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio"/><input id="__tabbed_11_2" name="__tabbed_11" type="radio"/><div class="tabbed-labels"><label for="__tabbed_11_1">Puertos Estáticos</label><label for="__tabbed_11_2">Puertos dinámicos</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><a href="#__codelineno-64-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-64-2" name="__codelineno-64-2"></a><a href="#__codelineno-64-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-64-3" name="__codelineno-64-3"></a><a href="#__codelineno-64-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-64-4" name="__codelineno-64-4"></a><a href="#__codelineno-64-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">inputLabels</span><span class="o">:</span><span class="w"> </span><span class="s2">"input parameter"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-64-5" name="__codelineno-64-5"></a><a href="#__codelineno-64-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">        </span><span class="nx">outputLabels</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"main output"</span><span class="p">,</span><span class="w"> </span><span class="s2">"error output"</span><span class="p">,</span><span class="w"> </span><span class="s2">"code output"</span><span class="p">],</span><span class="w"></span>
<a id="__codelineno-64-6" name="__codelineno-64-6"></a><a href="#__codelineno-64-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-64-7" name="__codelineno-64-7"></a><a href="#__codelineno-64-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1"></a><a href="#__codelineno-65-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-65-2" name="__codelineno-65-2"></a><a href="#__codelineno-65-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-65-3" name="__codelineno-65-3"></a><a href="#__codelineno-65-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-65-4" name="__codelineno-65-4"></a><a href="#__codelineno-65-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">inputLabels</span><span class="o">:</span><span class="w"> </span><span class="s2">"input parameter"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-65-5" name="__codelineno-65-5"></a><a href="#__codelineno-65-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">        </span><span class="nx">outputLabels</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s2">"output number "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-65-6" name="__codelineno-65-6"></a><a href="#__codelineno-65-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-65-7" name="__codelineno-65-7"></a><a href="#__codelineno-65-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<details class="note" open="open">
<summary>El usuario puede modificarlas</summary>
<p>Todos los puertos pueden ser editados por el usuario manualmente en el
<code>node settings</code> del <strong>Edit Dialog</strong></p>
</details>
<h3 id="alineamiento">Alineamiento<a class="headerlink" href="#alineamiento" title="Permanent link">¶</a></h3>
<p>Por defecto, tanto el icono como las etiquetas están alineadas a la izquierda
dentro del nodo. Pero esto se puede modificar con la propiedad <code>align</code> del
<strong>Fichero HTML</strong> - <strong>Definition</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1"></a><a href="#__codelineno-66-1"><span class="linenos" data-linenos="1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-66-2" name="__codelineno-66-2"></a><a href="#__codelineno-66-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-66-3" name="__codelineno-66-3"></a><a href="#__codelineno-66-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-66-4" name="__codelineno-66-4"></a><a href="#__codelineno-66-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">        </span><span class="nx">align</span><span class="o">:</span><span class="w"> </span><span class="s2">"right"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-66-5" name="__codelineno-66-5"></a><a href="#__codelineno-66-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-66-6" name="__codelineno-66-6"></a><a href="#__codelineno-66-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<figure>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../node-align.png"><img alt="Alineamientos de un nodo" src="../node-align.png"/></a>
</p>
<figcaption>Alineamientos de un nodo</figcaption>
</figure>
<h3 id="botones">Botones<a class="headerlink" href="#botones" title="Permanent link">¶</a></h3>
<p>Los nodos normalmente no tienen botones, ya que la idea no es usar Node-Red desde el editor.
De hecho el editor se puede deshabilitar. Pero hay nodos especiales como el <code>Inject</code> y el <code>Debug</code>,
a los que se les ha añadido un botón a la izquierda y a la derecha respectivamente.</p>
<p>Si necesitas que tu nodo tenga esta funcionalidad tienes que añadir la priopiedad <code>button</code></p>
<p><strong>Fichero HTML</strong> -&gt; <strong>Definiton</strong> -&gt; <code>button</code>: <code>{}</code></p>
<p>Esta propiedad es un objeto que puede contener:</p>
<ul>
<li>Una función <code>onclick</code> para capturar cuando se aprieta.</li>
<li>Una función <code>enabled</code> que devuelve un booleano para habilitar o deshabilitar el botón.</li>
<li>Una función <code>visible</code> que devuelve un booleano para esconder o mostrar el botón.</li>
<li>Un booleano <code>toggle</code> que permite convertir el botón en un toggle-button.</li>
</ul>
<p>Las 3 primeras serían para un botón normal. La última permite convertir el botón en un toggle-button. Para ello necesitas
crear una propiedad booleana dentro del <code>defaults</code> y referenciarla en la propiedad <code>toggle</code>.</p>
<p>Aquí tienes dos ejemplos, el primero de un botón normal, y el segundo un toggle-button</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio"/><input id="__tabbed_12_2" name="__tabbed_12" type="radio"/><div class="tabbed-labels"><label for="__tabbed_12_1">Botón normmal</label><label for="__tabbed_12_2">Toggle button</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1"></a><a href="#__codelineno-67-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-67-2" name="__codelineno-67-2"></a><a href="#__codelineno-67-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-67-3" name="__codelineno-67-3"></a><a href="#__codelineno-67-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-67-4" name="__codelineno-67-4"></a><a href="#__codelineno-67-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-67-5" name="__codelineno-67-5"></a><a href="#__codelineno-67-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">        </span><span class="nx">button</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-67-6" name="__codelineno-67-6"></a><a href="#__codelineno-67-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">            </span><span class="nx">enabled</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-67-7" name="__codelineno-67-7"></a><a href="#__codelineno-67-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">                </span><span class="c1">// return whether or not the button is enabled, based on the current</span><span class="w"></span>
<a id="__codelineno-67-8" name="__codelineno-67-8"></a><a href="#__codelineno-67-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">                </span><span class="c1">// configuration of the node</span><span class="w"></span>
<a id="__codelineno-67-9" name="__codelineno-67-9"></a><a href="#__codelineno-67-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">changed</span><span class="w"></span>
<a id="__codelineno-67-10" name="__codelineno-67-10"></a><a href="#__codelineno-67-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-67-11" name="__codelineno-67-11"></a><a href="#__codelineno-67-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">            </span><span class="nx">visible</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-67-12" name="__codelineno-67-12"></a><a href="#__codelineno-67-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">                </span><span class="c1">// return whether or not the button is visible, based on the current</span><span class="w"></span>
<a id="__codelineno-67-13" name="__codelineno-67-13"></a><a href="#__codelineno-67-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">                </span><span class="c1">// configuration of the node</span><span class="w"></span>
<a id="__codelineno-67-14" name="__codelineno-67-14"></a><a href="#__codelineno-67-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">hasButton</span><span class="w"></span>
<a id="__codelineno-67-15" name="__codelineno-67-15"></a><a href="#__codelineno-67-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-67-16" name="__codelineno-67-16"></a><a href="#__codelineno-67-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">            </span><span class="nx">onclick</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-67-17" name="__codelineno-67-17"></a><a href="#__codelineno-67-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-67-18" name="__codelineno-67-18"></a><a href="#__codelineno-67-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">        </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-67-19" name="__codelineno-67-19"></a><a href="#__codelineno-67-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-67-20" name="__codelineno-67-20"></a><a href="#__codelineno-67-20"><span class="linenos" data-linenos="20 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1"></a><a href="#__codelineno-68-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-68-2" name="__codelineno-68-2"></a><a href="#__codelineno-68-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="nx">RED</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">registerType</span><span class="p">(</span><span class="s1">'component-name'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-68-3" name="__codelineno-68-3"></a><a href="#__codelineno-68-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="c1">// Definition</span><span class="w"></span>
<a id="__codelineno-68-4" name="__codelineno-68-4"></a><a href="#__codelineno-68-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">        </span><span class="nx">defaults</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-68-5" name="__codelineno-68-5"></a><a href="#__codelineno-68-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">            </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-68-6" name="__codelineno-68-6"></a><a href="#__codelineno-68-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">            </span><span class="nx">buttonState</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-68-7" name="__codelineno-68-7"></a><a href="#__codelineno-68-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">            </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-68-8" name="__codelineno-68-8"></a><a href="#__codelineno-68-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-68-9" name="__codelineno-68-9"></a><a href="#__codelineno-68-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-68-10" name="__codelineno-68-10"></a><a href="#__codelineno-68-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">        </span><span class="nx">button</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-68-11" name="__codelineno-68-11"></a><a href="#__codelineno-68-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">            </span><span class="nx">toggle</span><span class="o">:</span><span class="w"> </span><span class="s2">"buttonState"</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-68-12" name="__codelineno-68-12"></a><a href="#__codelineno-68-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">            </span><span class="nx">onclick</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-68-13" name="__codelineno-68-13"></a><a href="#__codelineno-68-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-68-14" name="__codelineno-68-14"></a><a href="#__codelineno-68-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">        </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-68-15" name="__codelineno-68-15"></a><a href="#__codelineno-68-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-68-16" name="__codelineno-68-16"></a><a href="#__codelineno-68-16"><span class="linenos" data-linenos="16 "></span></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="publicar-componente">Publicar componente<a class="headerlink" href="#publicar-componente" title="Permanent link">¶</a></h2>
<p>A parte de preparar el <code>package.json</code> como se especifica en la <a href="#packagejson">sección correspondiente</a>,
hay ciertos pasos más que deberías cumplir:</p>
<ol>
<li>Añade una licencia</li>
<li>Prepara un buen <code>README.md</code></li>
</ol>
<p>Después puedes publicar tus componentes como paquetes npm, pero aquí no acaba la cosa.</p>
<p>Por último tienes que añadir tu paquete a la <a href="https://flows.nodered.org/">Node-RED Library</a>.
Para hacer esto tienes que:</p>
<ol>
<li>Crearte una cuenta / iniciar sesión</li>
<li>Darle al botón <code>+</code></li>
<li>Elegir <code>Node</code></li>
<li>Seguir las instrucciones que indican, que a estas alturas es solo añadir el nombre de tu paquete npm</li>
<li>Darle a <code>add node</code></li>
<li>Esperar, porque tardará un tiempo entre que se da de alta y demás</li>
</ol>
<p>Luego ya podrás instalar tu paquete desde dentro de Node-Red.</p>
<figure>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="../add-node.png"><img alt="Formulario de alta de la Node-RED Library" src="../add-node.png"/></a>
</p>
<figcaption>Formulario de alta de la Node-RED Library</figcaption>
</figure>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Volver al principio
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Pie" class="md-footer__inner md-grid">
<a aria-label="Anterior: Que es Node-Red" class="md-footer__link md-footer__link--prev" href="../../nodered/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Anterior
              </span>
              Que es Node-Red
            </div>
</div>
</a>
<a aria-label="Siguiente: Comandos" class="md-footer__link md-footer__link--next" href="../../../../devops/git/git/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Siguiente
              </span>
              Comandos
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2019 - 2022 Cristóbal Contreras
    </div>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/crisconru" rel="noopener" target="_blank" title="Github de Cristo">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-social__link" href="https://twitter.com/crisconru" rel="noopener" target="_blank" title="Github de Cristo">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
</a>
<a class="md-social__link" href="https://linkedin.com/in/cristobalcontrerasrubio" rel="noopener" target="_blank" title="Github de Cristo">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share"], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version.title": "Seleccionar versi\u00f3n"}}</script>
<script src="../../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
<script src="../../../../plugins/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>